<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: technology - lawilet&#039;s website</title><meta property="og:type" content="blog"><meta property="og:title" content="lawilet&#039;s website"><meta property="og:url" content="http://law-liet.com/"><meta property="og:site_name" content="lawilet&#039;s website"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://law-liet.com/img/og_image.png"><meta property="article:author" content="lawiet019"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://law-liet.com"},"headline":"lawilet's website","image":["http://law-liet.com/img/og_image.png"],"author":{"@type":"Person","name":"lawiet019"},"description":""}</script><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.png" alt="lawilet&#039;s website" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lawiet019"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">technology</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-22T17:48:00.000Z" title="2020-07-22T17:48:00.000Z">2020-07-22</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">4 minutes read (About 537 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/22/Learning-of-wireshark/">Learning of wireshark</a></h1><div class="content"><h2 id="what-is-wireshark"><a href="#what-is-wireshark" class="headerlink" title="what is wireshark"></a>what is wireshark</h2><p>Wireshark is a free and open-source packet analyzer. It is used for network troubleshooting, analysis, software and communications protocol development, and education.<br>Wireshark’s native network trace file format is the libpcap format supported by libpcap and WinPcap, so it can exchange captured network traces with other applications that use the same format, including tcpdump and CA NetMaster. It can also read captures from other network analyzers, such as snoop, Network General’s Sniffer, and Microsoft Network Monitor.</p>
<h2 id="download"><a href="#download" class="headerlink" title="download"></a>download</h2><p><a href="https://www.wireshark.org/">https://www.wireshark.org/</a></p>
<h2 id="Intro-to-the-interface"><a href="#Intro-to-the-interface" class="headerlink" title="Intro to the interface"></a>Intro to the interface</h2><p><img src="/images/pasted-16.png" alt="wireshark_1.png"><br><img src="/images/pasted-17.png" alt="wireshark_2.png"></p>
<ul>
<li><p>How to use the filter</p>
<ul>
<li>Protocol filtering<br>It is relatively simple. You can directly input the protocol name in the packet capture filter box.(lowercase needed)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tcp # only displays the packet list of TCP protocol</span><br><span class="line">http # only view the packet list of HTTP protocol</span><br><span class="line">icmp # only view the packet list of icmp protocol</span><br></pre></td></tr></table></figure></li>
<li>IP filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip.src &#x3D;&#x3D;192.168.1.104  # displays the list of packets with source address 192.168.1.104</span><br><span class="line">ip.dst&#x3D;&#x3D;192.168.1.104 #display the list of packets whose destination address is 192.168.1.104</span><br><span class="line">ip.addr &#x3D;&#x3D; 192.168.1.104  #displays a list of packets with source IP address or destination IP address 192.168.1.104</span><br></pre></td></tr></table></figure></li>
<li>Port filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tcp.port &#x3D;&#x3D;80 # displays a list of packets with source port 80 or destination host port 80.</span><br><span class="line">tcp.srcport &#x3D;&#x3D; 80, only displays the list of packets with TCP source port 80.</span><br><span class="line">、cp.dstport &#x3D;&#x3D; 80, only display the list of packets whose destination port of TCP protocol is 80.</span><br></pre></td></tr></table></figure></li>
<li>http mode filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http.request.method&#x3D;&#x3D;&quot;GET&quot; -  Only the HTTP GET method is displayed.</span><br></pre></td></tr></table></figure></li>
<li><p>comparison operator<br>== (equal to),!= (not equal),&gt; (greater than), &lt;(less than), &gt;= (greater than or equal), &lt;= (less than or equal)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip.src&#x3D;&#x3D;IP-address and ip.dst&#x3D;&#x3D;IP-address</span><br></pre></td></tr></table></figure>
</li>
<li><p>Logical operators<br>&amp; &amp; (and), | (or),!（not)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp.port &#x3D;&#x3D; 80 || udp.port &#x3D;&#x3D; 80</span><br></pre></td></tr></table></figure></li>
<li>Filter by packet content.Suppose I want to filter the content in the IMCP layer, I can click the code stream in the selected interface and select the data below.</li>
</ul>
</li>
</ul>
<p><img src="/images/pasted-18.png" alt="wireshark_3.png"></p>
<ul>
<li><p>data of requests (text form )</p>
<ul>
<li>The first line: the overall overview of the data packet.</li>
<li>The second line: link layer details, mainly the mac addresses of both parties</li>
<li>The Third line: network layer details, mainly the IP addresses of both parties</li>
<li>The fourth line: detailed information of the transport layer, mainly the port numbers of both parties.</li>
</ul>
</li>
<li><p>For the requests list part:<br>Here are explainations about different columns</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>column</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>No.</td>
<td>This is the number order of the packet that got captured. The bracket indicates that this packet is part of a conversation.</td>
</tr>
<tr>
<td>Time</td>
<td>This column shows you how long after you started the capture that this packet got captured. You can change this value in the Settings menu if you need something different displayed.</td>
</tr>
<tr>
<td>Source</td>
<td>This is the address of the system that sent the packet.</td>
</tr>
<tr>
<td>Destination</td>
<td>This is the address of the destination of that packet.</td>
</tr>
<tr>
<td>Protocol</td>
<td>This is the type of packet, for example, TCP, DNS, DHCPv6, or ARP.</td>
</tr>
<tr>
<td>Length</td>
<td>This column shows you the length of the packet in bytes</td>
</tr>
<tr>
<td>Info</td>
<td>This column shows you more information about the packet contents, and will vary depending on what kind of packet it is</td>
</tr>
</tbody>
</table>
</div>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://www.cnblogs.com/mq0036/p/11187138.html">https://www.cnblogs.com/mq0036/p/11187138.html</a><br><a href="https://www.varonis.com/blog/how-to-use-wireshark/">https://www.varonis.com/blog/how-to-use-wireshark/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-12T16:18:00.000Z" title="2020-07-12T16:18:00.000Z">2020-07-12</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">6 minutes read (About 906 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/12/common-modules-in-python-6-bisect/">common_modules_in_python(6):bisect</a></h1><div class="content"><p>This module provides support for maintaining a list in sorted order without having to sort the list after each insertion. For long lists of items with expensive comparison operations, this can be an improvement over the more common approach. The module is called bisect because it uses a basic bisection algorithm to do its work. The source code may be most useful as a working example of the algorithm (the boundary conditions are already right!).</p>
<h2 id="logic-binary-search"><a href="#logic-binary-search" class="headerlink" title="logic - binary search"></a>logic - binary search</h2><ul>
<li>Compare x with the middle element.</li>
<li>If x matches with middle element, we return the mid index.</li>
<li>Else If x is greater than the mid element, then x can only lie in right half subarray after the mid element. So we recur for right half.</li>
<li>Else (x is smaller) recur for the left half.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#Pseudocode</span><br><span class="line">function binary_search(A, n, T) is</span><br><span class="line">  L :&#x3D; 0</span><br><span class="line">  R :&#x3D; n − 1</span><br><span class="line">  while L ≤ R do</span><br><span class="line">      m :&#x3D; floor((L + R) &#x2F; 2)</span><br><span class="line">      if A[m] &lt; T then</span><br><span class="line">          L :&#x3D; m + 1</span><br><span class="line">      else if A[m] &gt; T then</span><br><span class="line">          R :&#x3D; m − 1</span><br><span class="line">      else:</span><br><span class="line">          return m</span><br><span class="line">  return unsuccessful</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><ul>
<li><p><code>bisect.bisect_left(a, x, lo=0, hi=len(a))</code><br>(find the location but not insert)<br>Locate the insertion point for x in a to maintain sorted order. The parameters lo and hi may be used to specify a subset of the list which should be considered; by default the entire list is used. If x is already present in a, the insertion point will be before (to the left of) any existing entries. The return value is suitable for use as the first parameter to list.insert() assuming that a is already sorted.<br>The returned insertion point i partitions the array a into two halves so that all(val &lt; x for val in a[lo:i]) for the left side and all(val &gt;= x for val in a[i:hi]) for the right side.</p>
</li>
<li><p><code>bisect.bisect_right(a, x, lo=0, hi=len(a))</code></p>
</li>
<li><p><code>bisect.bisect(a, x, lo=0, hi=len(a))</code><br>Similar to bisect_left(), but returns an insertion point which comes after (to the right of) any existing entries of x in a.</p>
<p>The returned insertion point i partitions the array a into two halves so that all(val &lt;= x for val in a[lo:i]) for the left side and all(val &gt; x for val in a[i:hi]) for the right side.</p>
</li>
<li><p><code>bisect.insort_left(a, x, lo=0, hi=len(a))</code><br>Insert x in a in sorted order. This is equivalent to a.insert(bisect.bisect_left(a, x, lo, hi), x) assuming that a is already sorted. Keep in mind that the O(log n) search is dominated by the slow O(n) insertion step.</p>
</li>
<li><p><code>bisect.insort_right(a, x, lo=0, hi=len(a))</code></p>
</li>
<li><code>bisect.insort(a, x, lo=0, hi=len(a))</code><br>Similar to insort_left(), but inserting x in a after any existing entries of x.</li>
</ul>
<h2 id="source-code-of-bisect"><a href="#source-code-of-bisect" class="headerlink" title="source code of bisect"></a>source code of bisect</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""Bisection algorithms."""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insort_right</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Insert item x in list a, and keep it sorted assuming a is sorted.</span></span><br><span class="line"><span class="string">    If x is already in a, insert it to the right of the rightmost x.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    lo = bisect_right(a, x, lo, hi)</span><br><span class="line">    a.insert(lo, x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bisect_right</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Return the index where to insert item x in list a, assuming a is sorted.</span></span><br><span class="line"><span class="string">    The return value i is such that all e in a[:i] have e &lt;= x, and all e in</span></span><br><span class="line"><span class="string">    a[i:] have e &gt; x.  So if x already appears in the list, a.insert(i, x) will</span></span><br><span class="line"><span class="string">    insert just after the rightmost x already there.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lo &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'lo must be non-negative'</span>)</span><br><span class="line">    <span class="keyword">if</span> hi <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        hi = len(a)</span><br><span class="line">    <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">        mid = (lo+hi)//<span class="number">2</span></span><br><span class="line">        <span class="comment"># Use __lt__ to match the logic in list.sort() and in heapq</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; a[mid]: hi = mid</span><br><span class="line">        <span class="keyword">else</span>: lo = mid+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> lo</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insort_left</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Insert item x in list a, and keep it sorted assuming a is sorted.</span></span><br><span class="line"><span class="string">    If x is already in a, insert it to the left of the leftmost x.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    lo = bisect_left(a, x, lo, hi)</span><br><span class="line">    a.insert(lo, x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bisect_left</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Return the index where to insert item x in list a, assuming a is sorted.</span></span><br><span class="line"><span class="string">    The return value i is such that all e in a[:i] have e &lt; x, and all e in</span></span><br><span class="line"><span class="string">    a[i:] have e &gt;= x.  So if x already appears in the list, a.insert(i, x) will</span></span><br><span class="line"><span class="string">    insert just before the leftmost x already there.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lo &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'lo must be non-negative'</span>)</span><br><span class="line">    <span class="keyword">if</span> hi <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        hi = len(a)</span><br><span class="line">    <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">        mid = (lo+hi)//<span class="number">2</span></span><br><span class="line">        <span class="comment"># Use __lt__ to match the logic in list.sort() and in heapq</span></span><br><span class="line">        <span class="keyword">if</span> a[mid] &lt; x: lo = mid+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>: hi = mid</span><br><span class="line">    <span class="keyword">return</span> lo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Overwrite above definitions with a fast C implementation</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> _bisect <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create aliases</span></span><br><span class="line">bisect = bisect_right</span><br><span class="line">insort = insort_right</span><br><span class="line">© <span class="number">2020</span> GitHub, Inc.</span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://docs.python.org/3/library/bisect.html">https://docs.python.org/3/library/bisect.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-12T16:05:00.000Z" title="2020-07-12T16:05:00.000Z">2020-07-12</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">4 minutes read (About 599 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/12/common-modules-in-python-5-math/">common_modules_in_python(5):math</a></h1><div class="content"><div class="table-container">
<table>
<thead>
<tr>
<th>Constants</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>math.pi</td>
<td>the ratio of a circle’s circumference (c) to its diameter</td>
</tr>
<tr>
<td>math.e</td>
<td>Euler’s number (e) is a constant that is the base of the natural logarithm</td>
</tr>
<tr>
<td>math.inf</td>
<td>Infinity(Positive)</td>
</tr>
<tr>
<td>math.nan</td>
<td>Not a number, or NaN</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>Arithmetic Functions</th>
<th>description</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>math.factorial()</td>
<td>get Factorial</td>
<td><code>math.factorial(4) #24(1*2*3*4)</code></td>
</tr>
<tr>
<td>math.ceil()Find the Ceiling Value</td>
<td>Find the Ceiling Value</td>
<td><code>math.ceil(-11.453)#11  math.ceil(4.23)#5</code></td>
</tr>
<tr>
<td>math.floor()</td>
<td>floor() will return the closest integer value that is less than or equal to the given number.</td>
<td><code>math.floor(5.532) #5</code></td>
</tr>
<tr>
<td>math.trunc()</td>
<td>When you get a number with a decimal point, you might want to keep only the integer part and eliminate the decimal part.</td>
<td><code>math.trunc(-43.24)  #-43</code></td>
</tr>
<tr>
<td>math.isclose()</td>
<td>determine whether two numbers are close to each other</td>
<td><code>math.isclose(6.999999999, 7)  #True</code></td>
</tr>
<tr>
<td>math.pow()</td>
<td>Calculate the Power of a Number</td>
<td><code>math.pow(2, 5) # 32.0 pow(5, 2.4) #47.59134846789696  (32 ** 6) % 5 == pow(32, 6, 5) #True</code></td>
</tr>
<tr>
<td>exp()</td>
<td>Find the Natural Exponent</td>
<td><code>math.exp(21) #1318815734.4832146</code></td>
</tr>
<tr>
<td>log()</td>
<td>get natural log value(whose base is e)</td>
<td><code>math.log(4) #1.3862943611198906</code></td>
</tr>
<tr>
<td>log2()</td>
<td>get the log value whose base is 2</td>
<td></td>
</tr>
<tr>
<td>log10()</td>
<td>get the log value whose base is 10</td>
<td></td>
</tr>
<tr>
<td>math.gcd()</td>
<td>compute the greatest common divisor</td>
<td><code>math.gcd(25,15) #5</code></td>
</tr>
<tr>
<td>math.fsum()</td>
<td>o find the sum of the values of an iterable without using a loop. A built-in function called sum() lets you calculate the sum of iterables as well, but fsum() is more accurate than sum().</td>
<td><code>sum([.1, .1, .1, .1, .1, .1, .1, .1, .1, .1])  #0.9999999999999999 fsum([.1, .1, .1, .1, .1, .1, .1, .1, .1, .1]) #1.0</code></td>
</tr>
<tr>
<td>math.sqrt()</td>
<td>Calculate the Square Root</td>
<td><code>sqrt(4) #2</code></td>
</tr>
<tr>
<td>math.radians()</td>
<td>convert degrees to radians</td>
<td></td>
</tr>
<tr>
<td>math.degrees()</td>
<td>convert radians to degrees</td>
</tr>
<tr>
<td>math.sin()</td>
<td>Return the sine of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.tan(x)</td>
<td>Return the tangent of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.cos(x)</td>
<td>Return the cosine of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.hypot()</td>
<td>calculate the hypotenuse of a triangle</td>
<td></td>
</tr>
<tr>
<td>math.comb(n, k)</td>
<td>returns the number of ways to choose k items from n items without repetition and without particular order.</td>
<td></td>
</tr>
<tr>
<td>math.perm(n, k)</td>
<td>returns the number of ways to choose k items from n items without repetition and with order.</td>
<td></td>
</tr>
<tr>
<td>math.isqrt()</td>
<td>returns the integer square root of a non-negative integer.</td>
</tr>
<tr>
<td>math.prod()</td>
<td>calculates the product of all of the elements in the input iterable. As with fsum(), this method can take iterables such as arrays, lists, or tuples.</td>
</tr>
<tr>
<td>math.dist()</td>
<td>returns the Euclidean distance between two points p and q, each given as a sequence (or iterable) of coordinates. The two points must have the same dimension.</td>
</tr>
<tr>
<td>math.hypot()</td>
<td>now handles more than two dimensions. Previously, it supported a maximum of two dimensions.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><code>math.isclose(a, b, *, rel_tol=1e-09, abs_tol=0.0)</code><br><code>rel_tol</code>: maximum difference for being considered “close”, relative to the magnitude of the input values<br><code>abs_tol</code>: rel_tol is the relative tolerance – it is the maximum allowed difference between a and b, relative to the larger absolute value of a or b. For example, to set a tolerance of 5%, pass rel_tol=0.05. The default tolerance is 1e-09, which assures that the two values are the same within about 9 decimal digits. rel_tol must be greater than zero.<br>The IEEE 754 special values of NaN, inf, and -inf will be handled according to IEEE rules. Specifically, NaN is not considered close to any other value, including NaN. inf and -inf are only considered close to themselves.</li>
</ul>
<ul>
<li>math.floor/math.ceil/int()/math.trunc/round()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5.3</span></span><br><span class="line">b = - <span class="number">5.3</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">print(math.floor(a))</span><br><span class="line">print(math.floor(b))</span><br><span class="line">print(math.ceil(a))</span><br><span class="line">print(math.ceil(b))</span><br><span class="line">print(math.trunc(a))</span><br><span class="line">print(math.trunc(b))</span><br><span class="line">print(int(a))</span><br><span class="line">print(int(b))</span><br><span class="line">print(round(a))</span><br><span class="line">print(round(b))</span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -6</span></span><br><span class="line"><span class="comment"># 6</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br></pre></td></tr></table></figure>
<h3 id="reference"><a href="#reference" class="headerlink" title="reference:"></a>reference:</h3><a href="https://realpython.com/python-math-module/">https://realpython.com/python-math-module/</a><br><a href="https://docs.python.org/3/library/math.html">https://docs.python.org/3/library/math.html</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-06T17:52:00.000Z" title="2020-07-06T17:52:00.000Z">2020-07-06</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">14 minutes read (About 2066 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/06/common-modules-in-python-4/">common_modules_in_python(4):itertools</a></h1><div class="content"><p>Functions creating iterators for efficient looping.<br>The module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an “iterator algebra” making it possible to construct specialized tools succinctly and efficiently in pure Python.</p>
<h2 id="Infinite-iterators"><a href="#Infinite-iterators" class="headerlink" title="Infinite iterators:"></a>Infinite iterators:</h2><ul>
<li><strong>itertools.count(start=0, step=1)</strong><br>Make an iterator that returns evenly spaced values starting with number start. Often used as an argument to map() to generate consecutive data points. Also, used with zip() to add sequence numbers. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(start=<span class="number">0</span>, step=<span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="comment"># count(10) --&gt; 10 11 12 13 14 ...</span></span><br><span class="line">    <span class="comment"># count(2.5, 0.5) -&gt; 2.5 3.0 3.5 ...</span></span><br><span class="line">    n = start</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line">        n += step</span><br></pre></td></tr></table></figure>
Here is an example to use<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">natuals = itertools.count(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> natuals:</span><br><span class="line">  print(n)</span><br><span class="line"></span><br><span class="line"><span class="comment">#1</span></span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"><span class="comment">#3</span></span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.cycle(iterable)</strong><br>Make an iterator returning elements from the iterable and saving a copy of each. When the iterable is exhausted, return elements from the saved copy. Repeats indefinitely. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cycle</span><span class="params">(iterable)</span>:</span></span><br><span class="line">    <span class="comment"># cycle('ABCD') --&gt; A B C D A B C D A B C D ...</span></span><br><span class="line">    saved = []</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> element</span><br><span class="line">        saved.append(element)</span><br><span class="line">    <span class="keyword">while</span> saved:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> saved:</span><br><span class="line">              <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure>
Here is an example<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">cs = itertools.cycle(<span class="string">'ABC'</span>)</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cs:</span><br><span class="line">   print(c)</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">'A'</span></span><br><span class="line"><span class="string">'B'</span></span><br><span class="line"><span class="string">'C'</span></span><br><span class="line"><span class="string">'A'</span></span><br><span class="line"><span class="string">'B'</span></span><br><span class="line"><span class="string">'C'</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.repeat(object[, times])</strong><br>Make an iterator that returns object over and over again. Runs indefinitely unless the times argument is specified. Used as argument to map() for invariant parameters to the called function. Also used with zip() to create an invariant part of a tuple record.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">repeat</span><span class="params">(object, times=None)</span>:</span></span><br><span class="line">  <span class="comment"># repeat(10, 3) --&gt; 10 10 10</span></span><br><span class="line">  <span class="keyword">if</span> times <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">          <span class="keyword">yield</span> object</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(times):</span><br><span class="line">          <span class="keyword">yield</span> object</span><br></pre></td></tr></table></figure>
<p>Here is an example</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ns = itertools.repeat(<span class="string">'A'</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">   print(n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment">#...</span></span><br></pre></td></tr></table></figure>
<h2 id="Iterators-terminating-on-the-shortest-input-sequence"><a href="#Iterators-terminating-on-the-shortest-input-sequence" class="headerlink" title="Iterators terminating on the shortest input sequence:"></a>Iterators terminating on the shortest input sequence:</h2></li>
<li><p><strong>itertools.accumulate(iterable[, func, *, initial=None])</strong><br>Make an iterator that returns accumulated sums, or accumulated results of other binary functions (specified via the optional func argument).</p>
<p>If func is supplied, it should be a function of two arguments. Elements of the input iterable may be any type that can be accepted as arguments to func. (For example, with the default operation of addition, elements may be any addable type including Decimal or Fraction.)</p>
<p>Usually, the number of elements output matches the input iterable. However, if the keyword argument initial is provided, the accumulation leads off with the initial value so that the output has one more element than the input iterable.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">accumulate</span><span class="params">(iterable, func=operator.add, *, initial=None)</span>:</span></span><br><span class="line">    <span class="string">'Return running totals'</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5]) --&gt; 1 3 6 10 15</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5], initial=100) --&gt; 100 101 103 106 110 115</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5], operator.mul) --&gt; 1 2 6 24 120</span></span><br><span class="line">    it = iter(iterable)</span><br><span class="line">    total = initial</span><br><span class="line">    <span class="keyword">if</span> initial <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            total = next(it)</span><br><span class="line">        <span class="keyword">except</span> StopIteration:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">yield</span> total</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">        total = func(total, element)</span><br><span class="line">        <span class="keyword">yield</span> total</span><br></pre></td></tr></table></figure>
<p>Below are some examples</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line">list(accumulate(data, operator.mul))     <span class="comment"># running product</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">12</span>, <span class="number">72</span>, <span class="number">144</span>, <span class="number">144</span>, <span class="number">1296</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">list(accumulate(data, max))              <span class="comment"># running maximum</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.chain(*iterables)</strong><br>Make an iterator that returns elements from the first iterable until it is exhausted, then proceeds to the next iterable, until all of the iterables are exhausted. Used for treating consecutive sequences as a single sequence. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chain</span><span class="params">(*iterables)</span>:</span></span><br><span class="line">    <span class="comment"># chain('ABC', 'DEF') --&gt; A B C D E F</span></span><br><span class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> iterables:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">            <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure></li>
<li><p><strong>classmethod chain.from_iterable(iterable)</strong><br> Alternate constructor for chain(). Gets chained inputs from a single iterable argument that is evaluated lazily. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">from_iterable</span><span class="params">(iterables)</span>:</span></span><br><span class="line">    <span class="comment"># chain.from_iterable(['ABC', 'DEF']) --&gt; A B C D E F</span></span><br><span class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> iterables:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">            <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>itertools.compress(data, selectors)</strong><br>Make an iterator that filters elements from data returning only those that have a corresponding element in selectors that evaluates to True. Stops when either the data or selectors iterables has been exhausted. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress</span><span class="params">(data, selectors)</span>:</span></span><br><span class="line">    <span class="comment"># compress('ABCDEF', [1,0,1,0,1,1]) --&gt; A C E F</span></span><br><span class="line">    <span class="keyword">return</span> (d <span class="keyword">for</span> d, s <span class="keyword">in</span> zip(data, selectors) <span class="keyword">if</span> s)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.dropwhile(predicate, iterable)</strong><br>Make an iterator that filters elements from iterable returning only those for which the predicate is False. If predicate is None, return the items that are false. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filterfalse</span><span class="params">(predicate, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># filterfalse(lambda x: x%2, range(10)) --&gt; 0 2 4 6 8</span></span><br><span class="line">    <span class="keyword">if</span> predicate <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        predicate = bool</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> predicate(x):</span><br><span class="line">            <span class="keyword">yield</span> x</span><br></pre></td></tr></table></figure>
groupby() picks out the adjacent repeating elements in the iterator and puts them together:</li>
<li><strong>itertools.groupby(iterable, key=None)</strong><br>groupby() picks out the adjacent repeating elements in the iterator and puts them together.<br>groupby() is roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">groupby</span>:</span></span><br><span class="line">    <span class="comment"># [k for k, g in groupby('AAAABBBCCDAABBB')] --&gt; A B C D A B</span></span><br><span class="line">    <span class="comment"># [list(g) for k, g in groupby('AAAABBBCCD')] --&gt; AAAA BBB CC D</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, iterable, key=None)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            key = <span class="keyword">lambda</span> x: x</span><br><span class="line">        self.keyfunc = key</span><br><span class="line">        self.it = iter(iterable)</span><br><span class="line">        self.tgtkey = self.currkey = self.currvalue = object()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.id = object()</span><br><span class="line">        <span class="keyword">while</span> self.currkey == self.tgtkey:</span><br><span class="line">            self.currvalue = next(self.it)    <span class="comment"># Exit on StopIteration</span></span><br><span class="line">            self.currkey = self.keyfunc(self.currvalue)</span><br><span class="line">        self.tgtkey = self.currkey</span><br><span class="line">        <span class="keyword">return</span> (self.currkey, self._grouper(self.tgtkey, self.id))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_grouper</span><span class="params">(self, tgtkey, id)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.id <span class="keyword">is</span> id <span class="keyword">and</span> self.currkey == tgtkey:</span><br><span class="line">            <span class="keyword">yield</span> self.currvalue</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                self.currvalue = next(self.it)</span><br><span class="line">            <span class="keyword">except</span> StopIteration:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            self.currkey = self.keyfunc(self.currvalue)</span><br></pre></td></tr></table></figure>
Here is an example :<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">groups = []</span><br><span class="line">uniquekeys = []</span><br><span class="line">data = sorted(data, key=keyfunc)</span><br><span class="line"><span class="keyword">for</span> k, g <span class="keyword">in</span> groupby(data, keyfunc):</span><br><span class="line">    groups.append(list(g))      <span class="comment"># Store group iterator as a list</span></span><br><span class="line">    uniquekeys.append(k)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.islice(iterable, stop)</strong><br>another parameters settings is <strong>itertools.islice(iterable, start, stop[, step])</strong><br>Make an iterator that returns selected elements from the iterable. If start is non-zero, then elements from the iterable are skipped until start is reached. Afterward, elements are returned consecutively unless step is set higher than one which results in items being skipped. If stop is None, then iteration continues until the iterator is exhausted, if at all; otherwise, it stops at the specified position. Unlike regular slicing, islice() does not support negative values for start, stop, or step. Can be used to extract related fields from data where the internal structure has been flattened (for example, a multi-line report may list a name field on every third line). Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">islice</span><span class="params">(iterable, *args)</span>:</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2) --&gt; A B</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2, 4) --&gt; C D</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2, None) --&gt; C D E F G</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 0, None, 2) --&gt; A C E G</span></span><br><span class="line">    s = slice(*args)</span><br><span class="line">    start, stop, step = s.start <span class="keyword">or</span> <span class="number">0</span>, s.stop <span class="keyword">or</span> sys.maxsize, s.step <span class="keyword">or</span> <span class="number">1</span></span><br><span class="line">    it = iter(range(start, stop, step))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        nexti = next(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># Consume *iterable* up to the *start* position.</span></span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> zip(range(start), iterable):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> enumerate(iterable):</span><br><span class="line">            <span class="keyword">if</span> i == nexti:</span><br><span class="line">                <span class="keyword">yield</span> element</span><br><span class="line">                nexti = next(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># Consume to *stop*.</span></span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> zip(range(i + <span class="number">1</span>, stop), iterable):</span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
If start is None, then iteration starts at zero. If step is None, then the step defaults to one.</li>
<li><strong>itertools.starmap(function, iterable)</strong><br>Make an iterator that computes the function using arguments obtained from the iterable. Used instead of map() when argument parameters are already grouped in tuples from a single iterable (the data has been “pre-zipped”). The difference between map() and starmap() parallels the distinction between <code>function(a,b)</code> and <code>function(*c)</code>. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">starmap</span><span class="params">(function, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># starmap(pow, [(2,5), (3,2), (10,3)]) --&gt; 32 9 1000</span></span><br><span class="line">    <span class="keyword">for</span> args <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> function(*args)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.takewhile(predicate, iterable)</strong><br>Make an iterator that returns elements from the iterable as long as the predicate is true. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takewhile</span><span class="params">(predicate, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># takewhile(lambda x: x&lt;5, [1,4,6,4,1]) --&gt; 1 4</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> predicate(x):</span><br><span class="line">            <span class="keyword">yield</span> x</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.tee(iterable, n=2)</strong><br>Return n independent iterators from a single iterable.</p>
<p>The following Python code helps explain what tee does (although the actual implementation is more complex and uses only a single underlying FIFO queue).</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tee</span><span class="params">(iterable, n=<span class="number">2</span>)</span>:</span></span><br><span class="line">    it = iter(iterable)</span><br><span class="line">    deques = [collections.deque() <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gen</span><span class="params">(mydeque)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> mydeque:             <span class="comment"># when the local deque is empty</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    newval = next(it)   <span class="comment"># fetch a new value and</span></span><br><span class="line">                <span class="keyword">except</span> StopIteration:</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                <span class="keyword">for</span> d <span class="keyword">in</span> deques:        <span class="comment"># load it to all the deques</span></span><br><span class="line">                    d.append(newval)</span><br><span class="line">            <span class="keyword">yield</span> mydeque.popleft()</span><br><span class="line">    <span class="keyword">return</span> tuple(gen(d) <span class="keyword">for</span> d <span class="keyword">in</span> deques)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.zip_longest(*iterables, fillvalue=None)</strong><br>Make an iterator that aggregates elements from each of the iterables. If the iterables are of uneven length, missing values are filled-in with fillvalue. Iteration continues until the longest iterable is exhausted. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zip_longest</span><span class="params">(*args, fillvalue=None)</span>:</span></span><br><span class="line">    <span class="comment"># zip_longest('ABCD', 'xy', fillvalue='-') --&gt; Ax By C- D-</span></span><br><span class="line">    iterators = [iter(it) <span class="keyword">for</span> it <span class="keyword">in</span> args]</span><br><span class="line">    num_active = len(iterators)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> num_active:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        values = []</span><br><span class="line">        <span class="keyword">for</span> i, it <span class="keyword">in</span> enumerate(iterators):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                value = next(it)</span><br><span class="line">            <span class="keyword">except</span> StopIteration:</span><br><span class="line">                num_active -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> num_active:</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                iterators[i] = repeat(fillvalue)</span><br><span class="line">                value = fillvalue</span><br><span class="line">            values.append(value)</span><br><span class="line">        <span class="keyword">yield</span> tuple(values)</span><br></pre></td></tr></table></figure>
<h2 id="itertools-product-iterables-repeat-1"><a href="#itertools-product-iterables-repeat-1" class="headerlink" title="itertools.product(*iterables, repeat=1)"></a><strong>itertools.product(*iterables, repeat=1)</strong></h2><p>Cartesian product of input iterables.</p>
<p>Roughly equivalent to nested for-loops in a generator expression. For example, product(A, B) returns the same as ((x,y) for x in A for y in B).</p>
<p>The nested loops cycle like an odometer with the rightmost element advancing on every iteration. This pattern creates a lexicographic ordering so that if the input’s iterables are sorted, the product tuples are emitted in sorted order.</p>
<p>To compute the product of an iterable with itself, specify the number of repetitions with the optional repeat keyword argument. For example, product(A, repeat=4) means the same as product(A, A, A, A).</p>
<p>This function is roughly equivalent to the following code, except that the actual implementation does not build up intermediate results in memory:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(*args, repeat=<span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="comment"># product('ABCD', 'xy') --&gt; Ax Ay Bx By Cx Cy Dx Dy</span></span><br><span class="line">    <span class="comment"># product(range(2), repeat=3) --&gt; 000 001 010 011 100 101 110 111</span></span><br><span class="line">    pools = [tuple(pool) <span class="keyword">for</span> pool <span class="keyword">in</span> args] * repeat</span><br><span class="line">    result = [[]]</span><br><span class="line">    <span class="keyword">for</span> pool <span class="keyword">in</span> pools:</span><br><span class="line">        result = [x+[y] <span class="keyword">for</span> x <span class="keyword">in</span> result <span class="keyword">for</span> y <span class="keyword">in</span> pool]</span><br><span class="line">    <span class="keyword">for</span> prod <span class="keyword">in</span> result:</span><br><span class="line">        <span class="keyword">yield</span> tuple(prod)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.permutations(iterable, r=None)</strong><br>Return successive r length permutations of elements in the iterable.</p>
<p>If r is not specified or is None, then r defaults to the length of the iterable and all possible full-length permutations are generated.</p>
<p>The permutation tuples are emitted in lexicographic ordering according to the order of the input iterable. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.</p>
<p>Elements are treated as unique based on their position, not on their value. So if the input elements are unique, there will be no repeat values in each permutation.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">permutations</span><span class="params">(iterable, r=None)</span>:</span></span><br><span class="line">    <span class="comment"># permutations('ABCD', 2) --&gt; AB AC AD BA BC BD CA CB CD DA DB DC</span></span><br><span class="line">    <span class="comment"># permutations(range(3)) --&gt; 012 021 102 120 201 210</span></span><br><span class="line">    pool = tuple(iterable)</span><br><span class="line">    n = len(pool)</span><br><span class="line">    r = n <span class="keyword">if</span> r <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">else</span> r</span><br><span class="line">    <span class="keyword">if</span> r &gt; n:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    indices = list(range(n))</span><br><span class="line">    cycles = list(range(n, n-r, <span class="number">-1</span>))</span><br><span class="line">    <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices[:r])</span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(r)):</span><br><span class="line">            cycles[i] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cycles[i] == <span class="number">0</span>:</span><br><span class="line">                indices[i:] = indices[i+<span class="number">1</span>:] + indices[i:i+<span class="number">1</span>]</span><br><span class="line">                cycles[i] = n - i</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                j = cycles[i]</span><br><span class="line">                indices[i], indices[-j] = indices[-j], indices[i]</span><br><span class="line">                <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices[:r])</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.combinations(iterable, r)</strong><br>Return r length subsequences of elements from the input iterable.</p>
<p>The combination tuples are emitted in lexicographic ordering according to the order of the input iterable. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.</p>
<p>Elements are treated as unique based on their position, not on their value. So if the input elements are unique, there will be no repeat values in each combination.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">combinations</span><span class="params">(iterable, r)</span>:</span></span><br><span class="line">    <span class="comment"># combinations('ABCD', 2) --&gt; AB AC AD BC BD CD</span></span><br><span class="line">    <span class="comment"># combinations(range(4), 3) --&gt; 012 013 023 123</span></span><br><span class="line">    pool = tuple(iterable)</span><br><span class="line">    n = len(pool)</span><br><span class="line">    <span class="keyword">if</span> r &gt; n:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    indices = list(range(r))</span><br><span class="line">    <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(r)):</span><br><span class="line">            <span class="keyword">if</span> indices[i] != i + n - r:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        indices[i] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, r):</span><br><span class="line">            indices[j] = indices[j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices)</span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://docs.python.org/3/library/itertools.html#itertools.combinations_with_replacement">https://docs.python.org/3/library/itertools.html#itertools.combinations_with_replacement</a></p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-06T16:04:00.000Z" title="2020-07-06T16:04:00.000Z">2020-07-06</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">2 minutes read (About 342 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/06/common-modules-in-python-3/">common_modules_in_python(3):heapq</a></h1><div class="content"><h2 id="description"><a href="#description" class="headerlink" title="description"></a>description</h2><p>This module provides an implementation of the heap queue algorithm, also known as the priority queue algorithm. To understood the heap sort, we could see the passage <a href="./2020/05/23/sorting-alogrithms-in-python/">sorting alogrithms in python</a></p>
<ul>
<li>siftup</li>
</ul>
<p><img src="/images/pasted-8.png" alt=""></p>
<ul>
<li>siftdown</li>
</ul>
<p><img src="/images/pasted-9.png" alt=""></p>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><div class="table-container">
<table>
<thead>
<tr>
<th>function</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>heappush (heap, x)</td>
<td>pushes x into the heap</td>
</tr>
<tr>
<td>heappop(heap)</td>
<td>pops the smallest element out of the heap</td>
</tr>
<tr>
<td>heapify(heap)</td>
<td>makes the list like a heap</td>
</tr>
<tr>
<td>heapreplace(heap, x)</td>
<td>pops up the smallest element and pushes x into the heap</td>
</tr>
<tr>
<td>heappushpop(heap, x)</td>
<td>Push x on the heap, then pop and return the smallest item from the heap. The combined action runs more efficiently than heappush() followed by a separate call to heappop().</td>
</tr>
<tr>
<td>nlargest(n, iter)</td>
<td>returns the largest n elements in iter</td>
</tr>
<tr>
<td>nsmallest(n, iter)</td>
<td>returns the smallest n elements in iter</td>
</tr>
<tr>
<td>_heappop_max(heap)</td>
<td>Maxheap version of a heappop</td>
</tr>
<tr>
<td>_heapreplace_max(heap,item)</td>
<td>Maxheap version of a heappop followed by a heappush.</td>
</tr>
<tr>
<td>_heapify_max(x)</td>
<td>Transform list into a maxheap, in-place, in O(len(x)) time</td>
</tr>
<tr>
<td>_siftdown(heap,startpos,pos)</td>
<td>Follow the path to the root, moving parents down until finding a place</td>
</tr>
<tr>
<td>_siftup(heap,pos)</td>
<td>Bubble up the smaller child until hitting a leaf</td>
</tr>
<tr>
<td>_siftdown_max(heap,startpos,pos)</td>
<td>Maxheap variant of _siftdown</td>
</tr>
<tr>
<td>_siftup_max(heap,pos)</td>
<td>Maxheap variant of _siftup</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>difference between <code>heappushpop</code> and <code>heapreplace</code><br>heapreplace(a, x) returns the smallest value originally in a regardless of the value of x, while, as the name suggests, heappushpop(a, x) pushes x onto a before popping the smallest value. Using your data, here’s a sequence that shows the difference:</li>
</ul>
<h1 id="an-exmaple"><a href="#an-exmaple" class="headerlink" title="an exmaple"></a>an exmaple</h1><p>Leetcode 23. Merge k Sorted Lists</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="comment"># Definition for singly-linked list.</span></span><br><span class="line">  <span class="comment"># class ListNode:</span></span><br><span class="line">  <span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line">  <span class="comment">#         self.val = val</span></span><br><span class="line">  <span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">        nodeLists = []</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> lists:</span><br><span class="line">            <span class="keyword">while</span> node:</span><br><span class="line">                heapq.heappush(nodeLists, node.val)</span><br><span class="line">                node = node.next</span><br><span class="line">        res = curr = ListNode(<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">while</span> nodeLists:</span><br><span class="line">            curr.next = ListNode(heapq.heappop(nodeLists))</span><br><span class="line">            curr = curr.next</span><br><span class="line">        <span class="keyword">return</span> res.next</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-02T18:48:00.000Z" title="2020-07-02T18:48:00.000Z">2020-07-02</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">8 minutes read (About 1225 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/02/common-modules-in-python-2-functools/">common_modules_in_python(2):functools</a></h1><div class="content"><p>Higher-order functions and operations on callable objects</p>
<h2 id="functools-cached-property-func"><a href="#functools-cached-property-func" class="headerlink" title="@functools.cached_property(func)"></a><code>@functools.cached_property(func)</code></h2><p>Transform a method of a class into a property whose value is computed once and then cached as a normal attribute for the life of the instance. Similar to property(), with the addition of caching. Useful for expensive computed properties of instances that are otherwise effectively immutable.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataSet</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, sequence_of_numbers)</span>:</span></span><br><span class="line">        self._data = sequence_of_numbers</span><br><span class="line"></span><br><span class="line"><span class="meta">    @cached_property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">stdev</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> statistics.stdev(self._data)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @cached_property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">variance</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> statistics.variance(self._data)</span><br></pre></td></tr></table></figure></p>
<h2 id="functools-lru-cache-maxsize-128-typed-False"><a href="#functools-lru-cache-maxsize-128-typed-False" class="headerlink" title="@functools.lru_cache(maxsize=128, typed=False)"></a><code>@functools.lru_cache(maxsize=128, typed=False)</code></h2><p><code>@functools.lru_cache(user_function)</code><br>Decorator to wrap a function with a memoizing callable that saves up to the maxsize most recent calls. It can save time when an expensive or I/O bound function is periodically called with the same arguments.<br>lru is least recently used, lru_cache can record the result of the function call, and directly use the previous return value when it is used again, without really calling it again.</p>
<ul>
<li>Distinct argument patterns may be considered to be distinct calls with separate cache entries. For example, f(a=1, b=2) and f(b=2, a=1) differ in their keyword argument order and may have two separate cache entries.</li>
<li>If typed is set to true, function arguments of different types will be cached separately. For example, f(3) and f(3.0) will be treated as distinct calls with distinct results.</li>
<li>If maxsize is set to None, the LRU feature is disabled and the cache can grow without bound.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Calling recursion multiple times can be slow</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n&gt;<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> fibonacci(n<span class="number">-1</span>)+fibonacci(n<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    print(i,<span class="string">":"</span>,fibonacci(i))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#solution1：</span></span><br><span class="line"><span class="comment"># fibonacci_dic=&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> fibonacci_dic:</span><br><span class="line">        <span class="keyword">return</span> fibonacci_dic[n]</span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        value= <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">2</span>:</span><br><span class="line">        value= <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n&gt;<span class="number">2</span>:</span><br><span class="line">        value=fibonacci(n<span class="number">-1</span>)+fibonacci(n<span class="number">-2</span>)</span><br><span class="line">    fibonacci_dic[n]=value</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    print(i,<span class="string">":"</span>,fibonacci(i))</span><br><span class="line"></span><br><span class="line"><span class="comment"># solution2:Decorator</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">@lru_cache(maxsize=1000)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n&gt;<span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> fibonacci(n<span class="number">-1</span>)+fibonacci(n<span class="number">-2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">101</span>):</span><br><span class="line">    print(i,<span class="string">":"</span>,fibonacci(i))</span><br></pre></td></tr></table></figure>
<p><a href="https://zhuanlan.zhihu.com/p/76553221">how to realize the lru_cache</a></p>
<h2 id="functools-total-ordering"><a href="#functools-total-ordering" class="headerlink" title="@functools.total_ordering"></a><code>@functools.total_ordering</code></h2><p>Given a class defining one or more rich comparison ordering methods, this class decorator supplies the rest. This simplifies the effort involved in specifying all of the possible rich comparison operations:</p>
<p>The class must define one of <code>__lt__()</code>,<code>__le__()</code>, <code>__gt__()</code>, or <code>__ge__()</code>. In addition, the class should supply an <code>__eq__()</code> method.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@total_ordering</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_is_valid_operand</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (hasattr(other, <span class="string">"lastname"</span>) <span class="keyword">and</span></span><br><span class="line">                hasattr(other, <span class="string">"firstname"</span>))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self._is_valid_operand(other):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">NotImplemented</span></span><br><span class="line">        <span class="keyword">return</span> ((self.lastname.lower(), self.firstname.lower()) ==</span><br><span class="line">                (other.lastname.lower(), other.firstname.lower()))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self, other)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self._is_valid_operand(other):</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">NotImplemented</span></span><br><span class="line">        <span class="keyword">return</span> ((self.lastname.lower(), self.firstname.lower()) &lt;</span><br><span class="line">                (other.lastname.lower(), other.firstname.lower()))</span><br></pre></td></tr></table></figure></p>
<h2 id="functools-partial-func-args-keywords"><a href="#functools-partial-func-args-keywords" class="headerlink" title="functools.partial(func, /, *args, **keywords)"></a><code>functools.partial(func, /, *args, **keywords)</code></h2><p> When we need to call a function frequently, but some of the parameters are known fixed values, which may make the code appear redundant. At this time, you can consider using partial function.<br> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">int(<span class="string">'1000000'</span>, base=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 64</span></span><br><span class="line">int(<span class="string">'1010101'</span>, base=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 85</span></span><br><span class="line"><span class="comment"># to simplify</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> partial</span><br><span class="line">int2 = partial(int, base=<span class="number">2</span>)</span><br><span class="line">int2(<span class="string">'110'</span>)</span><br><span class="line"><span class="comment"># 6</span></span><br></pre></td></tr></table></figure></p>
<h2 id="functools-partialmethod-func-args-keywords"><a href="#functools-partialmethod-func-args-keywords" class="headerlink" title="functools.partialmethod(func, /, *args, **keywords)"></a><code>functools.partialmethod(func, /, *args, **keywords)</code></h2><p>Return a new partialmethod descriptor which behaves like partial except that it is designed to be used as a method definition rather than being directly callable.Partial will throw error when used in class methods while partialmethod will not.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cell</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._alive = <span class="literal">False</span></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">alive</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._alive</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_state</span><span class="params">(self, state)</span>:</span></span><br><span class="line">        self._alive = bool(state)</span><br><span class="line">    set_alive = partialmethod(set_state, <span class="literal">True</span>)</span><br><span class="line">    set_dead = partialmethod(set_state, <span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">c = Cell()</span><br><span class="line">c.alive <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">c.set_alive()</span><br><span class="line">c.alive <span class="comment"># True</span></span><br></pre></td></tr></table></figure></p>
<h2 id="functools-reduce-function-iterable-initializer"><a href="#functools-reduce-function-iterable-initializer" class="headerlink" title="functools.reduce(function, iterable[, initializer])"></a><code>functools.reduce(function, iterable[, initializer])</code></h2><p>Apply function of two arguments cumulatively to the items of iterable, from left to right, so as to reduce the iterable to a single value. For example, <code>reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) calculates ((((1+2)+3)+4)+5)</code>.<br>The left argument, x, is the accumulated value and the right argument, y, is the update value from the iterable</p>
<h2 id="functools-singledispatch"><a href="#functools-singledispatch" class="headerlink" title="functools.singledispatch"></a><code>functools.singledispatch</code></h2><p>Similar to java’s overloading mechanism, you can define multiple overloaded variants for the same method in a class, which is better than using a long list of if/elif in a function.<br>It is used as a decorator. It can split the whole scheme into several small modules, The origial function  becomes a generic function: a set of functions that perform the same operation in different ways, depending on the type of the first parameter.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> singledispatch</span><br><span class="line">  <span class="keyword">import</span> numbers</span><br><span class="line"></span><br><span class="line"><span class="meta">  @singledispatch</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sort_type</span><span class="params">(obj)</span>:</span></span><br><span class="line">      print(obj, type(obj), <span class="string">'obj'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">  @sort_type.register(str)</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">_</span><span class="params">(text)</span>:</span></span><br><span class="line">      print(text, type(text), <span class="string">'str'</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">  @sort_type.register(numbers.Integral)</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">_</span><span class="params">(n)</span>:</span></span><br><span class="line">      print(n, type(n), <span class="string">'int'</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="class-functools-singledispatchmethod-func"><a href="#class-functools-singledispatchmethod-func" class="headerlink" title="class functools.singledispatchmethod(func)"></a><code>class functools.singledispatchmethod(func)</code></h2><p>To define a generic method, decorate it with the <code>@singledispatchmethod</code> decorator. Note that the dispatch happens on the type of the first non-self or non-cls argument, create your function accordingly<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Negator</span>:</span></span><br><span class="line"><span class="meta">    @singledispatchmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">neg</span><span class="params">(self, arg)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> NotImplementedError(<span class="string">"Cannot negate a"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @neg.register</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_</span><span class="params">(self, arg: int)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> -arg</span><br><span class="line"></span><br><span class="line"><span class="meta">    @neg.register</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_</span><span class="params">(self, arg: bool)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">not</span> arg</span><br></pre></td></tr></table></figure></p>
<h2 id="functools-update-wrapper-wrapper-wrapped-assigned-WRAPPER-ASSIGNMENTS-updated-WRAPPER-UPDATES"><a href="#functools-update-wrapper-wrapper-wrapped-assigned-WRAPPER-ASSIGNMENTS-updated-WRAPPER-UPDATES" class="headerlink" title="functools.update_wrapper(wrapper, wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)"></a><code>functools.update_wrapper(wrapper, wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)</code></h2><p>The optional arguments are tuples to specify which attributes of the original function are assigned directly to the matching attributes on the wrapper function and which attributes of the wrapper function are updated with the corresponding attributes from the original function. The default values for these arguments are the module level constants WRAPPER_ASSIGNMENTS (which assigns to the wrapper function’s <code>__module__</code>, <code>__name__</code>, <code>__qualname__</code>, <code>__annotations__</code> and <code>__doc__</code>, the documentation string) and WRAPPER_UPDATES (which updates the wrapper function’s <code>__dict__</code>, i.e. the instance dictionary).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Parameters:</span><br><span class="line"></span><br><span class="line">1. wrapper: A wrapper function.</span><br><span class="line">2. wrapped: The function being wrapped over or the wrapped function.</span><br><span class="line">3. assigned: Attributes of the wrapped function which are assigned to the matching attributes of wrapper function as a tuple(optional argument).</span><br><span class="line">4. updated: Attributes of the wrapper function that are updated with respect to original function attributes as a tuple(optional argument).</span><br></pre></td></tr></table></figure><br>example can be seen as below<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python program to demonstrate</span></span><br><span class="line"><span class="comment"># ipdate)wrapper() method</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> functools <span class="keyword">as</span> ft</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Defining the decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hi</span><span class="params">(func)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="string">"Hi has taken over Hello Documentation"</span></span><br><span class="line">        print(<span class="string">"Hi geeks"</span>)</span><br><span class="line">        func()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Note The following Steps Clearly</span></span><br><span class="line">    print(<span class="string">"UPDATED WRAPPER DATA"</span>)</span><br><span class="line">    print(<span class="string">f'WRAPPER ASSIGNMENTS :<span class="subst">&#123;ft.WRAPPER_ASSIGNMENTS&#125;</span>'</span>)</span><br><span class="line">    print(<span class="string">f'UPDATES : <span class="subst">&#123;ft.WRAPPER_UPDATES&#125;</span>'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Updating Metadata of wrapper  </span></span><br><span class="line">    <span class="comment"># using update_wrapper</span></span><br><span class="line">    ft.update_wrapper(wrapper, func)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@hi</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">"this is the documentation of Hello Function"</span></span><br><span class="line">    print(<span class="string">"Hey Geeks"</span>)</span><br><span class="line"></span><br><span class="line">print(hello.__name__)</span><br><span class="line">print(hello.__doc__)</span><br><span class="line">help(hello)</span><br></pre></td></tr></table></figure></p>
<h2 id="functools-wraps-wrapped-assigned-WRAPPER-ASSIGNMENTS-updated-WRAPPER-UPDATES"><a href="#functools-wraps-wrapped-assigned-WRAPPER-ASSIGNMENTS-updated-WRAPPER-UPDATES" class="headerlink" title="@functools.wraps(wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)"></a><code>@functools.wraps(wrapped, assigned=WRAPPER_ASSIGNMENTS, updated=WRAPPER_UPDATES)</code></h2><p>This is a convenience function for invoking update_wrapper() as a function decorator when defining a wrapper function. It is equivalent to partial(update_wrapper, wrapped=wrapped, assigned=assigned, updated=updated)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">my_decorator</span><span class="params">(f)</span>:</span></span><br><span class="line"><span class="meta">... </span>    @wraps(f)</span><br><span class="line"><span class="meta">... </span>    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwds)</span>:</span></span><br><span class="line"><span class="meta">... </span>        print(<span class="string">'Calling decorated function'</span>)</span><br><span class="line"><span class="meta">... </span>        <span class="keyword">return</span> f(*args, **kwds)</span><br><span class="line"><span class="meta">... </span>    <span class="keyword">return</span> wrapper</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>@my_decorator</span><br><span class="line"><span class="meta">... </span><span class="function"><span class="keyword">def</span> <span class="title">example</span><span class="params">()</span>:</span></span><br><span class="line"><span class="meta">... </span>    <span class="string">"""Docstring"""</span></span><br><span class="line"><span class="meta">... </span>    print(<span class="string">'Called example function'</span>)</span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>example()</span><br><span class="line">Calling decorated function</span><br><span class="line">Called example function</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>example.__name__</span><br><span class="line"><span class="string">'example'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>example.__doc__</span><br><span class="line"><span class="string">'Docstring'</span></span><br></pre></td></tr></table></figure></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-02T01:35:00.000Z" title="2020-07-02T01:35:00.000Z">2020-07-01</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">4 minutes read (About 647 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/01/Floyd%E2%80%99s-Cycle-Finding-Algorithm/">Floyd’s Cycle-Finding Algorithm</a></h1><div class="content"><h2 id="Approach"><a href="#Approach" class="headerlink" title="Approach:"></a>Approach:</h2><p>This is the fastest method to detect cycles and has been described below:</p>
<ul>
<li>Traverse linked list using two pointers.</li>
<li>Move one pointer(slow_p) by one and another pointer(fast_p) by two. </li>
<li>If these pointers meet at the same node then there is a loop. If pointers do not meet then linked list doesn’t have a loop.<br><img src="./img/cycle_det1.jpeg" alt=""></li>
</ul>
<p><img src="/images/pasted-5.png" alt="upload successful"></p>
<h2 id="why-it-works"><a href="#why-it-works" class="headerlink" title="why it works:"></a>why it works:</h2><p>1) When the slow pointer enters the loop, the fast pointer is already inside the loop. Set the distance between the fast pointer and the slow pointer be K.<br>2) Now, if we consider the slow movement of the pointers, we can notice that the distance between them increases by one after each iteration. After an iteration (slow pointer = next node of slow pointer, fast pointer = next next node of fast pointer), the distance between fast pointer and slow pointer becomes K + 1, after two iterations, it is K + 2, and so on. When the distance becomes the length n of the ring, they will join because they move in a ring of length n.<br>For example, we can see in the following figure that the initial distance is 2. After one iteration, the distance becomes 3, and after two iterations, the distance becomes 4. After three iterations, it becomes 5. It is also  distance 0. They meet.</p>
<p><img src="/images/pasted-6.png" alt="upload successful"><br><img src="./img/cycle_det2.jpeg" alt=""></p>
<h2 id="complexity"><a href="#complexity" class="headerlink" title="complexity"></a>complexity</h2><ul>
<li>Time complexity: O(n).<br>Only one traversal of the loop is needed.</li>
<li>Auxiliary Space:O(1).<br>There is no space required.</li>
</ul>
<h2 id="implement-in-Python"><a href="#implement-in-Python" class="headerlink" title="implement in Python"></a>implement in Python</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Leercide 141. Linked List Cycle</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        slow = head </span><br><span class="line">        fast = head  </span><br><span class="line">        <span class="keyword">while</span> slow <span class="keyword">and</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">            slow = slow.next </span><br><span class="line">            fast = fast.next.next </span><br><span class="line">            <span class="keyword">if</span> slow == fast:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h2 id="Extend-knowledge"><a href="#Extend-knowledge" class="headerlink" title="Extend knowledge"></a>Extend knowledge</h2><ul>
<li>question：<ul>
<li>How to  the length of the cycle?</li>
<li>How to find the first node in a cycle (i.e. linked list cycle II)?</li>
<li>How to change a linked list into a single linked list?</li>
<li>How to judge whether two single linked lists have intersection? How to find the first intersection node?</li>
</ul>
</li>
</ul>
<p><img src="/images/pasted-7.png" alt=""><br>The distance traveled by slow at the first encounter: <code>a+b</code>, the distance traveled by fast: <code>a+b+c+b</code>.Because the speed of fast is twice that of slow, the distance traveled by fast is twice that of slow. There are <code>2(a+b) = a+b+c+b</code>, and you can get <code>a=c</code> (this conclusion is very important!</p>
<p>We found that L=b+c=a+b, that is,</p>
<ol>
<li>From the beginning to the first encounter of the two points, the number of cycles is equal to the length of the ring.</li>
<li>We have already reached the conclusion a=c, then let the two pointers start from X and Z, one step at a time, then it will meet at Y!That is the first node of the ring.</li>
<li>At the end of the previous question, the link between the node before point Y in segment c and Y can be cut off.</li>
<li>How to judge whether two singly linked lists have intersection?First determine whether the two linked lists have cycles, if one has cycles and one has no cycles, it must not intersect; if both have no rings, determine whether the tails of the two lists are equal; if both have cycles, determine the Z on a linked list Whether the point is on another linked list.<br>Here is an example to return the node cycles begins(142. Linked List Cycle II)<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">detectCycle</span><span class="params">(self, head)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type head: ListNode</span></span><br><span class="line"><span class="string">        :rtype: ListNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        slow = head</span><br><span class="line">        fast = head</span><br><span class="line">        <span class="keyword">while</span> slow <span class="keyword">and</span> fast <span class="keyword">and</span> fast.next:</span><br><span class="line">            slow = slow.next </span><br><span class="line">            fast = fast.next.next </span><br><span class="line">            <span class="keyword">if</span> slow == fast:</span><br><span class="line">                slow = head </span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    <span class="keyword">if</span> slow == fast:</span><br><span class="line">                        <span class="keyword">return</span> slow </span><br><span class="line">                    slow = slow.next</span><br><span class="line">                    fast = fast.next</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://blog.csdn.net/ccmlove123/article/details/104052556">https://blog.csdn.net/ccmlove123/article/details/104052556</a><br><a href="https://blog.csdn.net/xy010902100449/article/details/48995255">https://blog.csdn.net/xy010902100449/article/details/48995255</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-01T17:48:00.000Z" title="2020-07-01T17:48:00.000Z">2020-07-01</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">2 minutes read (About 345 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/01/Topological-sorting/">Topological sorting</a></h1><div class="content"><h2 id="1-defintation"><a href="#1-defintation" class="headerlink" title="1. defintation:"></a>1. defintation:</h2><p>Topological sorting problem: given digraph G = (V, E) ,<br>find a linear ordering of vertices such that:<br>for all edges (v, w) in E, v precedes w in the ordering.</p>
<p><img src="/images/pasted-3.png" alt="upload successful"><br>Topological sorting for Directed Acyclic Graph (DAG) is a linear ordering of vertices such that for every directed edge uv, vertex u comes before v in the ordering. Topological Sorting for a graph is not possible if the graph is not a DAG.</p>
<h2 id="2-alogrithm"><a href="#2-alogrithm" class="headerlink" title="2.alogrithm"></a>2.alogrithm</h2><ul>
<li>Step 1: Identify vertices that have no incoming edge<br>• The <code>in-degree</code> of these vertices is zero<br>If no such edges, graph has cycles (cyclic graph)</li>
<li>Step 2: Delete this vertex of in-degree 0 and all its<br>outgoing edges from the graph. Place it in the output.</li>
<li>Step 3: Repeat Steps 1 and Step 2 until graph is empty<h2 id="3-implemented-in-Python"><a href="#3-implemented-in-Python" class="headerlink" title="3. implemented in Python"></a>3. implemented in Python</h2></li>
</ul>
<p><img src="/images/pasted-4.png" alt="upload successful"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Python program to print topological sorting of a DAG</span></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"><span class="comment">#Class to represent a graph</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Graph</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,vertices)</span>:</span></span><br><span class="line">        self.graph = defaultdict(list) <span class="comment">#dictionary containing adjacency List</span></span><br><span class="line">        self.V = vertices <span class="comment">#No. of vertices</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># function to add an edge to graph</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addEdge</span><span class="params">(self,u,v)</span>:</span></span><br><span class="line">        self.graph[u].append(v)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># A recursive function used by topologicalSort</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topologicalSortUtil</span><span class="params">(self,v,visited,stack)</span>:</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Mark the current node as visited.</span></span><br><span class="line">        visited[v] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># Recur for all the vertices adjacent to this vertex</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.graph[v]:</span><br><span class="line">            <span class="keyword">if</span> visited[i] == <span class="literal">False</span>:</span><br><span class="line">                self.topologicalSortUtil(i,visited,stack)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Push current vertex to stack which stores result</span></span><br><span class="line">        stack.insert(<span class="number">0</span>,v)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># The function to do Topological Sort. It uses recursive  </span></span><br><span class="line">    <span class="comment"># topologicalSortUtil()</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">topologicalSort</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># Mark all the vertices as not visited</span></span><br><span class="line">        visited = [<span class="literal">False</span>]*self.V</span><br><span class="line">        stack =[]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Call the recursive helper function to store Topological</span></span><br><span class="line">        <span class="comment"># Sort starting from all vertices one by one</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(self.V):</span><br><span class="line">            <span class="keyword">if</span> visited[i] == <span class="literal">False</span>:</span><br><span class="line">                self.topologicalSortUtil(i,visited,stack)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Print contents of the stack</span></span><br><span class="line">        print(stack)</span><br><span class="line"></span><br><span class="line">g= Graph(<span class="number">6</span>)</span><br><span class="line">g.addEdge(<span class="number">5</span>, <span class="number">2</span>);</span><br><span class="line">g.addEdge(<span class="number">5</span>, <span class="number">0</span>);</span><br><span class="line">g.addEdge(<span class="number">4</span>, <span class="number">0</span>);</span><br><span class="line">g.addEdge(<span class="number">4</span>, <span class="number">1</span>);</span><br><span class="line">g.addEdge(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line">g.addEdge(<span class="number">3</span>, <span class="number">1</span>);</span><br><span class="line">g.topologicalSort()</span><br><span class="line"><span class="comment">#This code is contributed by Neelam Yadav</span></span><br></pre></td></tr></table></figure></p>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p>geeksforgeeks.org/topological-sorting/</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-28T17:03:00.000Z" title="2020-06-28T17:03:00.000Z">2020-06-28</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">16 minutes read (About 2444 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/06/28/tree-algorithm-in-Python/">tree algorithm in Python</a></h1><div class="content"><h2 id="Definition-what-is-tree"><a href="#Definition-what-is-tree" class="headerlink" title="Definition: what is tree?"></a>Definition: what is tree?</h2><p>two important features:</p>
<ul>
<li>connected</li>
<li>no cycles</li>
</ul>
<blockquote>
<p>a feature of tree: the number of edges is number of nodes - proof : remove the root node</p>
</blockquote>
<p>application: Graph Valid Tree<br>Check if a given graph is tree or not</p>
<ul>
<li><p>How to detect cycle in an undirected graph?<br>We can either use BFS or DFS. For every visited vertex <code>v</code>, if there is an adjacent <code>u</code> such that <code>u</code> is already visited and <code>u</code> is not parent of <code>v</code>, then there is a cycle in graph. If we don’t find such an adjacent for any vertex, we say that there is no cycle (See Detect cycle in an undirected graph for more details).</p>
</li>
<li><p>How to check for connectivity?<br>Since the graph is undirected, we can start BFS or DFS from any vertex and check if all vertices are reachable or not. If all vertices are reachable, then graph is connected, otherwise not.</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="comment"># BFS solution. Same complexity but faster version.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="comment"># @param &#123;integer&#125; n</span></span><br><span class="line">    <span class="comment"># @param &#123;integer[][]&#125; edges</span></span><br><span class="line">    <span class="comment"># @return &#123;boolean&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validTree</span><span class="params">(self, n, edges)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(edges) != n - <span class="number">1</span>:  <span class="comment"># Check number of edges. - there is the Definition of the tree</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># init node's neighbors in dict</span></span><br><span class="line">        neighbors = collections.defaultdict(list)</span><br><span class="line">        <span class="keyword">for</span> u, v <span class="keyword">in</span> edges:</span><br><span class="line">            neighbors[u].append(v)</span><br><span class="line">            neighbors[v].append(u)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># BFS to check whether the graph is valid tree.</span></span><br><span class="line">        q = collections.deque([<span class="number">0</span>])</span><br><span class="line">        visited = set([<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">while</span> q:</span><br><span class="line">            curr = q.popleft()</span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> neighbors[curr]:</span><br><span class="line">                <span class="keyword">if</span> node <span class="keyword">not</span> <span class="keyword">in</span> visited:</span><br><span class="line">                    visited.add(node)</span><br><span class="line">                    q.append(node)</span><br><span class="line">        <span class="keyword">return</span> len(visited) == n</span><br></pre></td></tr></table></figure>
<h3 id="Vocabulary"><a href="#Vocabulary" class="headerlink" title="Vocabulary"></a>Vocabulary</h3><ul>
<li><p>Node</p>
<p>  A node is a fundamental part of a tree. It can have a name, which we call the “key.” A node may also have additional information. We call this additional information the “payload.” While the payload information is not central to many tree algorithms, it is often critical in applications that make use of trees.</p>
</li>
<li><p>Edge</p>
<p>  An edge is another fundamental part of a tree. An edge connects two nodes to show that there is a relationship between them. Every node (except the root) is connected by exactly one incoming edge from another node. Each node may have several outgoing edges.</p>
</li>
<li><p>Root</p>
<p>  The root of the tree is the only node in the tree that has no incoming edges.</p>
</li>
<li><p>Path</p>
<p>  A path is an ordered list of nodes that are connected by edges. For example, Mammal → Carnivora → Felidae → Felis → Domestica is a path.</p>
</li>
<li><p>Children</p>
<p>  The set of nodes 𝑐 that have incoming edges from the same node to are said to be the children of that node.</p>
</li>
<li><p>Parent</p>
<p>  A node is the parent of all the nodes it connects to with outgoing edges.</p>
</li>
<li><p>Sibling</p>
<p>  Nodes in the tree that are children of the same parent are said to be siblings.</p>
</li>
<li><p>Subtree</p>
<p>  A subtree is a set of nodes and edges comprised of a parent and all the descendants of that parent.</p>
</li>
<li><p>Leaf Node</p>
<p>  A leaf node is a node that has no children.</p>
</li>
<li><p>Level</p>
<p>  The level of a node 𝑛 is the number of edges on the path from the root node to 𝑛.</p>
</li>
<li><p>Height</p>
<p>  The height of a tree is equal to the maximum level of any node in the tree.</p>
</li>
<li><p>degree </p>
<p>  The degree of a tree is the maximum degree of a node in the tree. For example:If the maximum degree of a node is 2, then it is a binary tree. Likewise, if the maximum degree of a node is 3, then it becomes a ternary tree.P.S: Degree of a node is the maximum number of child nodes it can have.</p>
</li>
</ul>
<h3 id="Binary-tree"><a href="#Binary-tree" class="headerlink" title="Binary tree"></a>Binary tree</h3><p>a binary tree is a tree data structure in which each node has at most two children, which are referred to as the left child and the right child.</p>
<ul>
<li>how to implement it in Python<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryTree</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        self.left_child = <span class="literal">None</span></span><br><span class="line">        self.right_child = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert_left</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.left_child == <span class="literal">None</span>:</span><br><span class="line">            self.left_child = BinaryTree(value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            new_node = BinaryTree(value)</span><br><span class="line">            new_node.left_child = self.left_child</span><br><span class="line">            self.left_child = new_node</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert_right</span><span class="params">(self, value)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> self.right_child == <span class="literal">None</span>:</span><br><span class="line">                self.right_child = BinaryTree(value)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                new_node = BinaryTree(value)</span><br><span class="line">                new_node.right_child = self.right_child</span><br><span class="line">                self.right_child = new_node</span><br></pre></td></tr></table></figure>
<h3 id="tree-traversal"><a href="#tree-traversal" class="headerlink" title="tree traversal"></a>tree traversal</h3>there are two options:<br>Depth-First Search (DFS) and Breadth-First Search (BFS).</li>
<li>DFS<br>Depth-first search (DFS) is an algorithm for traversing or searching tree or graph data structures.. We can simply begin from a node, then traverse its adjacent (or children) without caring about cycles. And if we begin from a single node (root), and traverse this way, it is guaranteed that we traverse the whole tree as there is no dis-connectivity,<br>There are three ways in tree traversal:<ul>
<li>preorder<blockquote>
<p>Algorithm Preorder(tree)</p>
<ol>
<li>Visit the root.</li>
<li>Traverse the left subtree, i.e., call Preorder(left-subtree)</li>
<li>Traverse the right subtree, i.e., call Preorder(right-subtree)</li>
</ol>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre><code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val=<span class="number">0</span>, left=None, right=None)</span>:</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.left = left</span><br><span class="line">        self.right = right</span><br><span class="line"><span class="comment"># recursive</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorderTraversal</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        ret = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fn</span><span class="params">(node)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> node:</span><br><span class="line">                ret.append(node.val)</span><br><span class="line">                fn(node.left)</span><br><span class="line">                fn(node.right)</span><br><span class="line">        fn(root)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"><span class="comment"># iterative</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">preorderTraversal</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line"></span><br><span class="line">        stack = [root]</span><br><span class="line">        ret = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(stack):</span><br><span class="line">            node = stack.pop()</span><br><span class="line">            ret.append(node.val)</span><br><span class="line">            <span class="keyword">if</span> node.right: stack.append(node.right)</span><br><span class="line">            <span class="keyword">if</span> node.left: stack.append(node.left)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
- application:
  1. Leetcode 1028. Recover a Tree From Preorder Traversal
  2. Leetcode 144. Binary Tree Preorder Traversal
  3. Leetcode 971. Flip Binary Tree To Match Preorder Traversal
  4. Leetcode 589. N-ary Tree Preorder Traversal
  5. Leetcode 331. Verify Preorder Serialization of a Binary Tree
</code></pre><ul>
<li>inorder<blockquote>
<p>Algorithm Inorder(tree)</p>
<ol>
<li>Traverse the left subtree, i.e., call Inorder(left-subtree)</li>
<li>Visit the root.</li>
<li>Traverse the right subtree, i.e., call Inorder(right-subtree)</li>
</ol>
</blockquote>
</li>
</ul>
<pre><code><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,key)</span>:</span></span><br><span class="line">        self.left = <span class="literal">None</span></span><br><span class="line">        self.right = <span class="literal">None</span></span><br><span class="line">        self.val = key</span><br><span class="line"></span><br><span class="line">ret = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">inOrderTraversal</span><span class="params">(root)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> root:</span><br><span class="line">        inOrderTraversal(root.left)</span><br><span class="line">        ret.append(root.val)</span><br><span class="line">        inOrderTraversal(root.right)</span><br></pre></td></tr></table></figure>
- application:
1. Leetcode 94. Binary Tree Inorder Traversal
2. Leetcode 105. Construct Binary Tree from Preorder and Inorder Traversal
</code></pre><ul>
<li><p>postorder</p>
<blockquote>
<p>Algorithm Postorder(tree)</p>
<ol>
<li>Traverse the left subtree, i.e., call Postorder(left-subtree)</li>
<li>Traverse the right subtree, i.e., call Postorder(right-subtree)</li>
<li>Visit the root.</li>
</ol>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, val=<span class="number">0</span>, left=None, right=None)</span>:</span></span><br><span class="line">        self.val = val</span><br><span class="line">        self.left = left</span><br><span class="line">        self.right = right</span><br><span class="line"><span class="comment"># recursive</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">postorderTraversal</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        ret = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(root)</span>:</span></span><br><span class="line">            <span class="keyword">if</span> root:</span><br><span class="line">                dfs(root.left)</span><br><span class="line">                dfs(root.right)</span><br><span class="line">                ret.append(root.val)</span><br><span class="line">        dfs(root)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br><span class="line"><span class="comment">#iterative</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">postorderTraversal</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        stack = [root]</span><br><span class="line">        ret = []</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            ret.append(cur.val)</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                stack.append(cur.left)</span><br><span class="line">            <span class="keyword">if</span> cur.right:</span><br><span class="line">                stack.append(cur.right)</span><br><span class="line">        <span class="keyword">return</span> ret[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<ul>
<li>application:<ol>
<li>Leetcode 590. N-ary Tree Postorder Traversal</li>
<li>Leetcode 145. Binary Tree Postorder Traversal</li>
<li>Leetcode 106. Construct Binary Tree from Inorder and Postorder Traversal</li>
</ol>
<ul>
<li>BFS<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">BFStraversal</span><span class="params">(self,root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        stack = deque([root])</span><br><span class="line">        ret = []</span><br><span class="line">        <span class="keyword">while</span> stack:</span><br><span class="line">            cur = stack.pop()</span><br><span class="line">            ret.append(cur.val)</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                stack.appendleft(cur.left)</span><br><span class="line">            <span class="keyword">if</span> cur.right:</span><br><span class="line">                stack.appendleft(cur.right)</span><br><span class="line">        <span class="keyword">return</span> ret</span><br></pre></td></tr></table></figure>
<h2 id="full-binary-tree-vs-complete-binary-tree"><a href="#full-binary-tree-vs-complete-binary-tree" class="headerlink" title="full binary tree vs complete binary tree"></a>full binary tree vs complete binary tree</h2></li>
<li>A <code>full binary tree</code> (sometimes proper binary tree or 2-tree) is a tree in which every node other than the leaves has two children. </li>
<li>A <code>complete binary tree</code>  is a binary tree in which every level, except possibly the last, is completely filled, and all nodes are as far left as possible</li>
<li><code>AVL tree</code> is a self-balancing Binary Search Tree (BST) where the difference between heights of left and right subtrees cannot be more than one for all nodes (for every node).</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="binary-search-tree-BST"><a href="#binary-search-tree-BST" class="headerlink" title="binary search tree (BST)"></a>binary search tree (BST)</h2><p>An important property of a Binary Search Tree is that the value of a Binary Search Tree nodeis larger than the value of the offspring of its left child, but smaller than the value of the offspring of its right child.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinarySearchTree</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self.value = value</span><br><span class="line">        self.left_child = <span class="literal">None</span></span><br><span class="line">        self.right_child = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert_node</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> value &lt;= self.value <span class="keyword">and</span> self.left_child:</span><br><span class="line">            self.left_child.insert_node(value)</span><br><span class="line">        <span class="keyword">elif</span> value &lt;= self.value:</span><br><span class="line">            self.left_child = BinarySearchTree(value)</span><br><span class="line">        <span class="keyword">elif</span> value &gt; self.value <span class="keyword">and</span> self.right_child:</span><br><span class="line">            self.right_child.insert_node(value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.right_child = BinarySearchTree(value)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>application:<ol>
<li>Leetcode 109. Convert Sorted List to Binary Search Tree</li>
<li>Leetcode 96. Unique Binary Search Trees</li>
<li>Leetcode 95. Unique Binary Search Trees II</li>
<li>Leetcode 1008. Construct Binary Search Tree from Preorder Traversal</li>
<li>Leetcode 235. Lowest Common Ancestor of a Binary Search Tree</li>
<li>Leetcode 98. Validate Binary Search Tree</li>
</ol>
</li>
</ul>
<h2 id="trie"><a href="#trie" class="headerlink" title="trie"></a>trie</h2><ul>
<li>defination :a trie, also called digital tree or prefix tree, is a kind of search tree—an ordered tree data structure used to store a dynamic set or associative array where the keys are usually strings.Here’s a trie that stores “David”, “Maria”, and “Mario”.</li>
</ul>
<p><img src="/images/pasted-10.png" alt="upload successful"></p>
<ul>
<li>Strengths<ul>
<li>Sometimes Space-Efficient. If you’re storing lots of words that start with similar patterns, tries may reduce the overall storage cost by storing shared prefixes once.</li>
<li>Efficient Prefix Queries. Tries can quickly answer queries about words with shared prefixes, like:<ul>
<li>How many words start with “choco”?</li>
<li>What’s the most likely next letter in a word that starts with “strawber”?</li>
</ul>
</li>
</ul>
</li>
<li>Weaknesses<ul>
<li>Usually Space-Inefficient. Tries rarely save space when compared to storing strings in a set.</li>
<li>ASCII characters in a string are one byte each. Each link between trie nodes is a pointer to an address—eight bytes on a 64-bit system. So, the overhead of linking nodes together often outweighs the savings from storing fewer characters.</li>
<li>Not Standard. Most languages don’t come with a built-in trie implementation. You’ll need to implement one yourself.</li>
</ul>
</li>
</ul>
<p>What happens if we have two words and one is a prefix of the other?<br>we need to mark the word ending like using another node or True</p>
<p>Here is an example<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Leetcode 208:Implement Trie (Prefix Tree)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.children = &#123;&#125;</span><br><span class="line">        self.endofWord = <span class="literal">False</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.root = TrieNode()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(self, word: str)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Inserts a word into the trie.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(word)</span><br><span class="line">        start = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> word[i] <span class="keyword">not</span> <span class="keyword">in</span> start.children:</span><br><span class="line">                start.children[word[i]] = TrieNode()</span><br><span class="line">            start = start.children[word[i]]</span><br><span class="line">        start.endofWord = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span><span class="params">(self, word: str)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns if the word is in the trie.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(word)</span><br><span class="line">        start = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> word[i] <span class="keyword">not</span> <span class="keyword">in</span> start.children:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            start = start.children[word[i]]</span><br><span class="line">        <span class="keyword">return</span> start.endofWord</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">startsWith</span><span class="params">(self, prefix: str)</span> -&gt; bool:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Returns if there is any word in the trie that starts with the given prefix.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(prefix)</span><br><span class="line">        start = self.root</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">            <span class="keyword">if</span> prefix[i] <span class="keyword">not</span> <span class="keyword">in</span> start.children:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            start = start.children[prefix[i]]</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure></p>
<h2 id="Radix-tree"><a href="#Radix-tree" class="headerlink" title="Radix tree"></a>Radix tree</h2><p>a radix tree (also radix trie or compact prefix tree) is a data structure that represents a space-optimized trie (prefix tree) in which each node that is the only child is merged with its parent. The result is that the number of children of every internal node is at most the radix r of the radix tree, where r is a positive integer and a power x of 2.</p>
<p><img src="/images/pasted-11.png" alt="upload successful"></p>
<h2 id="segment-tree"><a href="#segment-tree" class="headerlink" title="segment tree"></a>segment tree</h2><ul>
<li><p>defination:<br>Segment Tree is a basically a binary tree used for storing the intervals or segments. Each node in the Segment Tree represents an interval. Consider an array  of size  N and a corresponding Segment Tree T.(It is AVL)</p>
<ol>
<li>The root of T will represent the whole array A[:N] . </li>
<li>Each leaf in the Segment Tree T  will represent a single element A[i]  such that 0 &lt;= i &lt; N.</li>
<li>The internal nodes in the Segment Tree  represents the union of elementary intervals A[i:j]  where  0&lt;= i&lt;j&lt; N.</li>
</ol>
</li>
<li>application:<br>Sum of given range</li>
<li>image:</li>
</ul>
<p><img src="/images/pasted-12.png" alt="segement tree"></p>
<h2 id="Binary-Indexed-Tree"><a href="#Binary-Indexed-Tree" class="headerlink" title="Binary Indexed Tree"></a>Binary Indexed Tree</h2><ul>
<li>what is binary indexed tree<br>As the name suggests, it is to use arrays to simulate tree structures. Then a question arises, why not build trees directly? The answer is  there is no need to build trees for problems that arrays can handle. It is similar to the structure of trie tree.</li>
<li>For what<br>update and sum for a interval</li>
<li>binary indexed tree vs segement tree<br>The problems that a binary indexed tree can solve can be solved with a line segment tree. What is the difference between the two?The coefficient of the tree array is much less.</li>
<li>advantages vs disadvantages<br>The complexity of modification and query is O(logN), and the coefficient is much less than that of the line segment tree, faster than the traditional array, and easy to write.The disadvantage is that it still cannot be solved when encountering complex interval problems, and the function is still limited.</li>
<li>understand the binary indexed </li>
</ul>
<p><img src="/images/pasted-13.png" alt="binary_indexed_tree.png"><br>The black array represents the original array (replaced with A[i] below), and the red structure represents our tree-like array (replaced with C[i] below).<br>The rules can be seen as follows</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">C[1] &#x3D; A[1];</span><br><span class="line">C[2] &#x3D; A[1] + A[2];</span><br><span class="line">C[3] &#x3D; A[3];</span><br><span class="line">C[4] &#x3D; A[1] + A[2] + A[3] + A[4];</span><br><span class="line">C[5] &#x3D; A[5];</span><br><span class="line">C[6] &#x3D; A[5] + A[6];</span><br><span class="line">C[7] &#x3D; A[7];</span><br><span class="line">C[8] &#x3D; A[1] + A[2] + A[3] + A[4] + A[5] + A[6] + A[7] + A[8];</span><br><span class="line">C[i] &#x3D; A[i - 2k+1] + A[i - 2k+2] + ... + A[i];&#x2F;&#x2F;k is the length of consecutive zeros from the lowest bit to the highest bit in the binary of i</span><br></pre></td></tr></table></figure>
<p>More detail :<br><a href="https://www.youtube.com/watch?v=CWDQJGaN1gY">https://www.youtube.com/watch?v=CWDQJGaN1gY</a></p>
<ul>
<li><p>operation</p>
<ul>
<li><p>sum </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> getSum(x): Returns the sum of the sub-array arr[0,...,x]</span><br><span class="line">&#x2F;&#x2F; Returns the sum of the sub-array arr[0,...,x] using BITree[0..n], which is constructed from arr[0..n-1]</span><br><span class="line">1) Initialize the output sum as 0, the current index as x+1.</span><br><span class="line">2) Do following while the current index is greater than 0.</span><br><span class="line">...a) Add BITree[index] to sum</span><br><span class="line">...b) Go to the parent of BITree[index].  The parent can be obtained by removing</span><br><span class="line">     the last set bit from the current index, i.e., index &#x3D; index - (index &amp; (-index))</span><br><span class="line">3) Return sum.</span><br></pre></td></tr></table></figure>
<p>get_sum_tree.png<br><img src="/images/pasted-14.png" alt="get_sum_tree.png"></p>
<ul>
<li><p>update</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    update(x, val): Updates the Binary Indexed Tree (BIT) by performing arr[index] +&#x3D; val</span><br><span class="line">&#x2F;&#x2F; Note that the update(x, val) operation will not change arr[].  It only makes changes to BITree[]</span><br><span class="line">1) Initialize the current index as x+1.</span><br><span class="line">2) Do the following while the current index is smaller than or equal to n.</span><br><span class="line">...a) Add the val to BITree[index]</span><br><span class="line">...b) Go to parent of BITree[index].  The parent can be obtained by incrementing</span><br><span class="line">     the last set bit of the current index, i.e., index &#x3D; index + (index &amp; (-index))</span><br></pre></td></tr></table></figure>
<p><img src="/images/pasted-15.png" alt="update_tree.png"></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>implementation</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python implementation of Binary Indexed Tree </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Returns sum of arr[0..index]. This function assumes </span></span><br><span class="line"><span class="comment"># that the array is preprocessed and partial sums of </span></span><br><span class="line"><span class="comment"># array elements are stored in BITree[]. </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getsum</span><span class="params">(BITTree,i)</span>:</span> </span><br><span class="line">	s = <span class="number">0</span> <span class="comment">#initialize result </span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># index in BITree[] is 1 more than the index in arr[] </span></span><br><span class="line">	i = i+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># Traverse ancestors of BITree[index] </span></span><br><span class="line">	<span class="keyword">while</span> i &gt; <span class="number">0</span>: </span><br><span class="line"></span><br><span class="line">		<span class="comment"># Add current element of BITree to sum </span></span><br><span class="line">		s += BITTree[i] </span><br><span class="line"></span><br><span class="line">		<span class="comment"># Move index to parent node in getSum View </span></span><br><span class="line">		i -= i &amp; (-i) </span><br><span class="line">	<span class="keyword">return</span> s </span><br><span class="line"></span><br><span class="line"><span class="comment"># Updates a node in Binary Index Tree (BITree) at given index </span></span><br><span class="line"><span class="comment"># in BITree. The given value 'val' is added to BITree[i] and </span></span><br><span class="line"><span class="comment"># all of its ancestors in tree. </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">updatebit</span><span class="params">(BITTree , n , i ,v)</span>:</span> </span><br><span class="line"></span><br><span class="line">	<span class="comment"># index in BITree[] is 1 more than the index in arr[] </span></span><br><span class="line">	i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">	<span class="comment"># Traverse all ancestors and add 'val' </span></span><br><span class="line">	<span class="keyword">while</span> i &lt;= n: </span><br><span class="line"></span><br><span class="line">		<span class="comment"># Add 'val' to current node of BI Tree </span></span><br><span class="line">		BITTree[i] = v </span><br><span class="line"></span><br><span class="line">		<span class="comment"># Update index to that of parent in update View </span></span><br><span class="line">		i += i &amp; (-i) </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Constructs and returns a Binary Indexed Tree for given </span></span><br><span class="line"><span class="comment"># array of size n. </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">construct</span><span class="params">(arr, n)</span>:</span> </span><br><span class="line"></span><br><span class="line">	<span class="comment"># Create and initialize BITree[] as 0 </span></span><br><span class="line">	BITTree = [<span class="number">0</span>]*(n+<span class="number">1</span>) </span><br><span class="line"></span><br><span class="line">	<span class="comment"># Store the actual values in BITree[] using update() </span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(n): </span><br><span class="line">		updatebit(BITTree, n, i, arr[i]) </span><br><span class="line"></span><br><span class="line">	<span class="comment"># Uncomment below lines to see contents of BITree[] </span></span><br><span class="line">	<span class="comment">#for i in range(1,n+1): </span></span><br><span class="line">	<span class="comment">#	 print BITTree[i], </span></span><br><span class="line">	<span class="keyword">return</span> BITTree </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Driver code to test above methods </span></span><br><span class="line">freq = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>] </span><br><span class="line">BITTree = construct(freq,len(freq)) </span><br><span class="line">print(<span class="string">"Sum of elements in arr[0..5] is "</span> + str(getsum(BITTree,<span class="number">5</span>))) </span><br><span class="line">freq[<span class="number">3</span>] += <span class="number">6</span></span><br><span class="line">updatebit(BITTree, len(freq), <span class="number">3</span>, <span class="number">6</span>) </span><br><span class="line">print(<span class="string">"Sum of elements in arr[0..5]"</span>+</span><br><span class="line">					<span class="string">" after update is "</span> + str(getsum(BITTree,<span class="number">5</span>))) </span><br><span class="line"></span><br><span class="line"><span class="comment"># This code is contributed by Raju Varshney</span></span><br></pre></td></tr></table></figure>
<ul>
<li>example:<br>Leetcode 307 Range Sum Query - Mutable<br>Given an integer array nums, find the sum of the elements between indices i and j (i ≤ j), inclusive.<br>The update(i, val) function modifies nums by updating the element at index i to val.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumArray</span><span class="params">(object)</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">      self.nums = nums</span><br><span class="line">      self.N = len(self.nums)</span><br><span class="line">      self.tree = [<span class="number">0</span>] * (self.N + <span class="number">1</span>)</span><br><span class="line">      <span class="comment">## optimize initiate BIT in O(n)</span></span><br><span class="line">      <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, self.N+<span class="number">1</span>):</span><br><span class="line">          self.tree[j] += self.nums[j<span class="number">-1</span>]</span><br><span class="line">          <span class="keyword">if</span> (j + (j &amp; (-j))) &lt;= self.N:</span><br><span class="line">              self.tree[j + (j &amp; (-j))] += self.tree[j]</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">update</span><span class="params">(self, i, val)</span>:</span></span><br><span class="line">      diff = val - self.nums[i]</span><br><span class="line">      self.nums[i] = val</span><br><span class="line">      i += <span class="number">1</span></span><br><span class="line">      <span class="keyword">while</span> i &lt;= self.N:</span><br><span class="line">          self.tree[i] += diff</span><br><span class="line">          i += (i &amp; (-i))</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">sumRange</span><span class="params">(self, i, j)</span>:</span></span><br><span class="line">      <span class="keyword">return</span> self.getSum(j) - self.getSum(i - <span class="number">1</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getSum</span><span class="params">(self, i)</span>:</span></span><br><span class="line">      sm = <span class="number">0</span></span><br><span class="line">      i += <span class="number">1</span></span><br><span class="line">      <span class="keyword">while</span> i &gt; <span class="number">0</span>:</span><br><span class="line">          sm += self.tree[i]</span><br><span class="line">          i -= (i &amp; (-i))</span><br><span class="line">      <span class="keyword">return</span> sm</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://www.freecodecamp.org/news/all-you-need-to-know-about-tree-data-structures-bceacb85490c/">https://www.freecodecamp.org/news/all-you-need-to-know-about-tree-data-structures-bceacb85490c/</a><br><a href="https://runestone.academy/runestone/books/published/pythonds/Trees/toctree.html">https://runestone.academy/runestone/books/published/pythonds/Trees/toctree.html</a><br><a href="https://www.cnblogs.com/xenny/p/9739600.html">https://www.cnblogs.com/xenny/p/9739600.html</a><br><a href="https://www.geeksforgeeks.org/binary-indexed-tree-or-fenwick-tree-2/">https://www.geeksforgeeks.org/binary-indexed-tree-or-fenwick-tree-2/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-06-27T02:28:00.000Z" title="2020-06-27T02:28:00.000Z">2020-06-26</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">14 minutes read (About 2162 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/06/26/common-modules-in-Python-1-collections/">common modules in Python(1) :collections</a></h1><div class="content"><p>This is a summary based on <a href="https://www.geeksforgeeks.org/">https://www.geeksforgeeks.org/</a> and  <a href="https://docs.python.org/3/library/collections.html">https://docs.python.org/3/library/collections.html</a><br><strong>1.<code>ChainMap(*maps)</code></strong></p>
<ul>
<li>def:A ChainMap class is provided for quickly linking a number of mappings so they can be treated as a single unit. It is often much faster than creating a new dictionary and running multiple update() calls.A ChainMap groups multiple dicts or other mappings together to create a single, updateable view. If no maps are specified, a single empty dictionary is provided so that a new chain always has at least one mapping.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>baseline = &#123;<span class="string">'music'</span>: <span class="string">'bach'</span>, <span class="string">'art'</span>: <span class="string">'rembrandt'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>adjustments = &#123;<span class="string">'art'</span>: <span class="string">'van gogh'</span>, <span class="string">'opera'</span>: <span class="string">'carmen'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(ChainMap(adjustments, baseline))</span><br><span class="line">[<span class="string">'music'</span>, <span class="string">'art'</span>, <span class="string">'opera'</span>]</span><br></pre></td></tr></table></figure></li>
<li>methods and attributes:<ul>
<li><code>maps</code><br>This function is used to display keys with corresponding values of all the dictionaries in ChainMap.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line"><span class="comment"># initializing dictionaries</span></span><br><span class="line">dic1 = &#123; <span class="string">'a'</span> : <span class="number">1</span>, <span class="string">'b'</span> : <span class="number">2</span> &#125;</span><br><span class="line">dic2 = &#123; <span class="string">'b'</span> : <span class="number">3</span>, <span class="string">'c'</span> : <span class="number">4</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># initializing ChainMap</span></span><br><span class="line">chain = collections.ChainMap(dic1, dic2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># printing chainMap using maps</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"All the ChainMap contents are : "</span>)</span><br><span class="line"><span class="keyword">print</span> (chain.maps)</span><br><span class="line"><span class="comment"># All the ChainMap contents are :</span></span><br><span class="line"><span class="comment"># [&#123;'b': 2, 'a': 1&#125;, &#123;'c': 4, 'b': 3&#125;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># printing keys using keys()</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"All keys of ChainMap are : "</span>)</span><br><span class="line"><span class="keyword">print</span> (list(chain.keys()))</span><br><span class="line"><span class="comment">#All keys of ChainMap are :</span></span><br><span class="line"><span class="comment"># ['a', 'c', 'b']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># printing keys using keys()</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"All values of ChainMap are : "</span>)</span><br><span class="line"><span class="keyword">print</span> (list(chain.values()))</span><br><span class="line"><span class="comment">#All values of ChainMap are :</span></span><br><span class="line"><span class="comment">#[1, 4, 2]</span></span><br></pre></td></tr></table></figure>
Notice： the key named “b” exists in both dictionaries, but only first dictionary key is taken as key value of “b”. Ordering is done as the dictionaries are passed in function.</li>
<li><code>new_child()</code><br> This function adds a new dictionary in the beginning of the ChainMap. <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"></span><br><span class="line"><span class="comment"># initializing dictionaries</span></span><br><span class="line">dic1 = &#123; <span class="string">'a'</span> : <span class="number">1</span>, <span class="string">'b'</span> : <span class="number">2</span> &#125;</span><br><span class="line">dic2 = &#123; <span class="string">'b'</span> : <span class="number">3</span>, <span class="string">'c'</span> : <span class="number">4</span> &#125;</span><br><span class="line">dic3 = &#123; <span class="string">'f'</span> : <span class="number">5</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># initializing ChainMap</span></span><br><span class="line">chain = collections.ChainMap(dic1, dic2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># printing chainMap using map</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"All the ChainMap contents are : "</span>)</span><br><span class="line"><span class="keyword">print</span> (chain.maps)</span><br><span class="line"><span class="comment">#All the ChainMap contents are :</span></span><br><span class="line"><span class="comment"># [&#123;'b': 2, 'a': 1&#125;, &#123;'b': 3, 'c': 4&#125;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># using new_child() to add new dictionary</span></span><br><span class="line">chain1 = chain.new_child(dic3)</span><br><span class="line"></span><br><span class="line"><span class="comment"># printing chainMap using map</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Displaying new ChainMap : "</span>)</span><br><span class="line"><span class="keyword">print</span> (chain1.maps)</span><br><span class="line"><span class="comment">#Displaying new ChainMap :</span></span><br><span class="line"><span class="comment"># [&#123;'f': 5&#125;, &#123;'b': 2, 'a': 1&#125;, &#123;'b': 3, 'c': 4&#125;]</span></span><br></pre></td></tr></table></figure></li>
<li><code>reversed()</code><br>This function reverses the relative ordering of dictionaries in the ChainMap<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># all data are previous example</span></span><br><span class="line"><span class="comment"># displaying value associated with b before reversing</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Value associated with b before reversing is : "</span>,end=<span class="string">""</span>)</span><br><span class="line"><span class="keyword">print</span> (chain1[<span class="string">'b'</span>])</span><br><span class="line"><span class="comment">#Value associated with b before reversing is : 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># reversing the ChainMap</span></span><br><span class="line">chain1.maps = reversed(chain1.maps)</span><br><span class="line"></span><br><span class="line"><span class="comment"># displaying value associated with b after reversing</span></span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Value associated with b after reversing is : "</span>,end=<span class="string">""</span>)</span><br><span class="line"><span class="keyword">print</span> (chain1[<span class="string">'b'</span>])</span><br><span class="line"><span class="comment">#Value associated with b after reversing is : 3</span></span><br></pre></td></tr></table></figure></li>
<li>parents<br>Property returning a new ChainMap containing all of the maps in the current instance except the first one. This is useful for skipping the first map in the search. Use cases are similar to those for the nonlocal keyword used in nested scopes. The use cases also parallel those for the built-in super() function. A reference to d.parents is equivalent to: <code>ChainMap(*d.maps[1:])</code>.</li>
</ul>
</li>
</ul>
<p><strong>2.<code>counter()</code></strong></p>
<ul>
<li>def: dict subclass for counting hashable objects<ul>
<li>Elements are counted from an iterable or initialized from another mapping<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = Counter()                           <span class="comment"># a new, empty counter</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = Counter(<span class="string">'gallahad'</span>)                 <span class="comment"># a new counter from an iterable</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = Counter(&#123;<span class="string">'red'</span>: <span class="number">4</span>, <span class="string">'blue'</span>: <span class="number">2</span>&#125;)      <span class="comment"># a new counter from a mapping</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = Counter(cats=<span class="number">4</span>, dogs=<span class="number">8</span>)             <span class="comment"># a new counter from keyword args</span></span><br></pre></td></tr></table></figure>
Counter objects have a dictionary interface except that they return a zero count for missing items instead of raising a KeyError:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; c &#x3D; Counter([&#39;eggs&#39;, &#39;ham&#39;])</span><br><span class="line">&gt;&gt;&gt; c[&#39;bacon&#39;]                              # count of a missing element is zero</span><br><span class="line">0</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>method:</p>
<ul>
<li><code>elements()</code><br>Return an iterator over elements repeating each as many times as its count. Elements are returned in arbitrary order. If an element’s count is less than one, elements() will ignore it.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">c = Counter(a=<span class="number">4</span>, b=<span class="number">2</span>, c=<span class="number">0</span>, d=<span class="number">-2</span>)</span><br><span class="line">sorted(c.elements())</span><br><span class="line">[<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>]</span><br></pre></td></tr></table></figure></li>
<li><code>most_common([n])</code><br>eturn a list of the n most common elements and their counts from the most common to the least. If n is omitted or None, most_common() returns all elements in the counter. Elements with equal counts are ordered in the order first encountered:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Counter(<span class="string">'abracadabra'</span>).most_common(<span class="number">3</span>)</span><br><span class="line">[(<span class="string">'a'</span>, <span class="number">5</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'r'</span>, <span class="number">2</span>)]</span><br></pre></td></tr></table></figure></li>
<li><code>subtract([iterable-or-mapping])</code><br>Elements are subtracted from an iterable or from another mapping (or counter). Like dict.update() but subtracts counts instead of replacing them. Both inputs and outputs may be zero or negative.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c = Counter(a=<span class="number">4</span>, b=<span class="number">2</span>, c=<span class="number">0</span>, d=<span class="number">-2</span>)</span><br><span class="line">d = Counter(a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="number">3</span>, d=<span class="number">4</span>)</span><br><span class="line">c.subtract(d)</span><br><span class="line">c</span><br><span class="line">Counter(&#123;<span class="string">'a'</span>: <span class="number">3</span>, <span class="string">'b'</span>: <span class="number">0</span>, <span class="string">'c'</span>: <span class="number">-3</span>, <span class="string">'d'</span>: <span class="number">-6</span>&#125;)</span><br></pre></td></tr></table></figure></li>
<li>other methods<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">sum(c.values())                 <span class="comment"># total of all counts</span></span><br><span class="line">c.clear()                       <span class="comment"># reset all counts</span></span><br><span class="line">list(c)                         <span class="comment"># list unique elements</span></span><br><span class="line">set(c)                          <span class="comment"># convert to a set</span></span><br><span class="line">dict(c)                         <span class="comment"># convert to a regular dictionary</span></span><br><span class="line">c.items()                       <span class="comment"># convert to a list of (elem, cnt) pairs</span></span><br><span class="line">Counter(dict(list_of_pairs))    <span class="comment"># convert from a list of (elem, cnt) pairs</span></span><br><span class="line">c.most_common()[:-n<span class="number">-1</span>:<span class="number">-1</span>]       <span class="comment"># n least common elements</span></span><br><span class="line">+c                              <span class="comment"># remove zero and negative counts</span></span><br><span class="line">c = Counter(a=<span class="number">3</span>, b=<span class="number">1</span>)</span><br><span class="line">d = Counter(a=<span class="number">1</span>, b=<span class="number">2</span>)</span><br><span class="line">c + d                       <span class="comment"># add two counters together:  c[x] + d[x]</span></span><br><span class="line">Counter(&#123;<span class="string">'a'</span>: <span class="number">4</span>, <span class="string">'b'</span>: <span class="number">3</span>&#125;)</span><br><span class="line">c - d                       <span class="comment"># subtract (keeping only positive counts)</span></span><br><span class="line">Counter(&#123;<span class="string">'a'</span>: <span class="number">2</span>&#125;)</span><br><span class="line">c &amp; d                       <span class="comment"># intersection:  min(c[x], d[x])</span></span><br><span class="line">Counter(&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">1</span>&#125;)</span><br><span class="line">c | d                       <span class="comment"># union:  max(c[x], d[x])</span></span><br><span class="line">Counter(&#123;<span class="string">'a'</span>: <span class="number">3</span>, <span class="string">'b'</span>: <span class="number">2</span>&#125;)</span><br></pre></td></tr></table></figure>
<strong>3. <code>deque([iterable[, maxlen]])</code></strong></li>
<li>def: Deques are a generalization of stacks and queues (the name is pronounced “deck” and is short for “double-ended queue”). Deques support thread-safe, memory efficient appends and pops from either side of the deque with approximately the same O(1) performance in either direction.</li>
<li><p>methods:</p>
<ul>
<li><p><code>append(x)</code><br>Add x to the right side of the deque.</p>
</li>
<li><p>`appendleft(x)``<br>Add x to the left side of the deque.</p>
</li>
<li><p><code>clear()</code><br>Remove all elements from the deque leaving it with length 0.</p>
</li>
<li><p><code>copy()</code><br>Create a shallow copy of the deque.</p>
</li>
<li><p><code>count(x)</code><br>Count the number of deque elements equal to x.</p>
</li>
<li><p><code>extend(iterable)</code><br>Extend the right side of the deque by appending elements from the iterable argument.</p>
</li>
<li><p><code>extendleft(iterable)</code><br>Extend the left side of the deque by appending elements from iterable. Note, the series of left appends results in reversing the order of elements in the iterable argument.</p>
</li>
<li><p><code>index(x[, start[, stop]])</code><br>Return the position of x in the deque (at or after index start and before index stop). Returns the first match or raises ValueError if not found.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>- `insert(i, x)`
Insert x into the deque at position i.
If the insertion would cause a bounded deque to grow beyond maxlen, an IndexError is raised.

- `pop()`
Remove and return an element from the right side of the deque. If no elements are present, raises an IndexError.

- `popleft()`
Remove and return an element from the left side of the deque. If no elements are present, raises an IndexError.

- `remove(value)`
Remove the first occurrence of value. If not found, raises a ValueError.

- `reverse()`
Reverse the elements of the deque in-place and then return None.
- `rotate(n=1)`
Rotate the deque n steps to the right. If n is negative, rotate to the left.
When the deque is not empty, rotating one step to the right is equivalent to d.appendleft(d.pop()), and rotating one step to the left is equivalent to d.append(d.popleft()).

- `maxlen`
Maximum size of a deque or None if unbounded.
</code></pre><ul>
<li>examples:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Bounded length deques provide functionality similar to the tail filter in Unix:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tail</span><span class="params">(filename, n=<span class="number">10</span>)</span>:</span></span><br><span class="line">  <span class="string">'Return the last n lines of a file'</span></span><br><span class="line">  <span class="keyword">with</span> open(filename) <span class="keyword">as</span> f:</span><br><span class="line">      <span class="keyword">return</span> deque(f, n)</span><br></pre></td></tr></table></figure>
<strong>4. <code>defaultdict([default_factory[, ...]])</code></strong></li>
<li>ref: Returns a new dictionary-like object. defaultdict is a subclass of the built-in dict class. . The functionality of both dictionaries and defualtdict are almost same except for the fact that defualtdict never raises a KeyError. It provides a default value for the key that does not exists.</li>
<li>methods<ul>
<li>defaultdict(default_factory)<br>default_factory: A function returning the default value for the dictionary defined. If this argument is absent then the dictionary raises a KeyError.<ul>
<li><code>__missing__():</code><br>This function is used to provide the default value for the dictionary. This function takes default_factory as an argument and if this argument is None, a KeyError is raised otherwise it provides a default value for the given key. This method is basically called by the <code>__getitem__()</code> method of the dict class when the requested key is not found.<code>__getitem__()</code> raises or return the value returned by the <code>__missing__()</code>. method.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Python program to demonstrate</span></span><br><span class="line"><span class="comment"># defaultdict</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Defining the dict</span></span><br><span class="line">d = defaultdict(<span class="keyword">lambda</span>: <span class="string">"Not Present"</span>)</span><br><span class="line">d[<span class="string">"a"</span>] = <span class="number">1</span></span><br><span class="line">d[<span class="string">"b"</span>] = <span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Provides the default value  </span></span><br><span class="line"><span class="comment"># for the key</span></span><br><span class="line">print(d.__missing__(<span class="string">'a'</span>))</span><br><span class="line">print(d.__missing__(<span class="string">'d'</span>))</span><br></pre></td></tr></table></figure>
<strong>5.<code>namedtuple()</code></strong></li>
</ul>
</li>
</ul>
</li>
<li><p>def: Named tuples assign meaning to each position in a tuple and allow for more readable, self-documenting code. They can be used wherever regular tuples are used, and they add the ability to access fields by name instead of position index.</p>
 <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="comment"># Basic example</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>Point = namedtuple(<span class="string">'Point'</span>, [<span class="string">'x'</span>, <span class="string">'y'</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p = Point(<span class="number">11</span>, y=<span class="number">22</span>)     <span class="comment"># instantiate with positional or keyword arguments</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p[<span class="number">0</span>] + p[<span class="number">1</span>]             <span class="comment"># indexable like the plain tuple (11, 22)</span></span><br><span class="line"><span class="number">33</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y = p                <span class="comment"># unpack like a regular tuple</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>x, y</span><br><span class="line">(<span class="number">11</span>, <span class="number">22</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p.x + p.y               <span class="comment"># fields also accessible by name</span></span><br><span class="line"><span class="number">33</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>p                       <span class="comment"># readable __repr__ with a name=value style</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># set default value for namedtuple</span></span><br><span class="line"></span><br><span class="line">Node = namedtuple(<span class="string">'Node'</span>, <span class="string">'val left right'</span>) Node.__new__.func_defaults = (<span class="literal">None</span>,) * len(Node._fields)</span><br></pre></td></tr></table></figure>
<p> Operations on namedtuple() :<br> Access Operations</p>
<ol>
<li><p><strong>Access by index</strong> : The attribute values of namedtuple() are ordered and can be accessed using the index number unlike dictionaries which are not accessible by index.</p>
</li>
<li><p><strong>Access by keyname</strong> : Access by keyname is also allowed as in dictionaries.</p>
</li>
<li><p><strong>using getattr()</strong> :- This is yet another way to access the value by giving namedtuple and key value as its argument.</p>
</li>
</ol>
</li>
<li><p>methods:</p>
<ul>
<li><code>_make</code><br>Class method that makes a new instance from an existing sequence or iterable.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#Basic example</span></span><br><span class="line">Point = namedtuple(<span class="string">'Point'</span>, [<span class="string">'x'</span>, <span class="string">'y'</span>])</span><br><span class="line">p = Point(<span class="number">11</span>, y=<span class="number">22</span>)     <span class="comment"># instantiate with positional or keyword arguments</span></span><br></pre></td></tr></table></figure></li>
<li><code>_asdict()</code><br>Return a new dict which maps field names to their corresponding values<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p = Point(x=<span class="number">11</span>, y=<span class="number">22</span>)</span><br><span class="line">p._asdict()</span><br><span class="line"><span class="comment"># &#123;'x': 11, 'y': 22&#125;</span></span><br></pre></td></tr></table></figure></li>
<li><code>_replace(**kwargs)</code><br>Return a new instance of the named tuple replacing specified fields with new values:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p = Point(x=<span class="number">11</span>, y=<span class="number">22</span>)</span><br><span class="line">p._replace(x=<span class="number">33</span>)</span><br><span class="line"><span class="comment"># Point(x=33, y=22)</span></span><br></pre></td></tr></table></figure></li>
<li><code>_fields</code> <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p._fields            <span class="comment"># view the field names</span></span><br><span class="line"><span class="comment"># ('x', 'y')</span></span><br></pre></td></tr></table></figure>
<strong>7.<code>OrderedDict()</code></strong></li>
</ul>
</li>
<li><p>def: Ordered dictionaries are just like regular dictionaries but have some extra capabilities relating to ordering operations. They have become less important now that the built-in dict class gained the ability to remember insertion order</p>
</li>
<li>methods:<ul>
<li><code>popitem(last=True)</code><br>the popitem() method for ordered dictionaries returns and removes a (key, value) pair. The pairs are returned in LIFO order if last is true or FIFO order if false.</li>
<li><code>move_to_end(key, last=True)</code><br>Move an existing key to either end of an ordered dictionary. The item is moved to the right end if last is true (the default) or to the beginning if last is false. Raises KeyError if the key does not exist:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d = OrderedDict.fromkeys(<span class="string">'abcde'</span>)</span><br><span class="line">d.move_to_end(<span class="string">'b'</span>)</span><br><span class="line"><span class="string">''</span>.join(d.keys())</span><br><span class="line"><span class="comment"># 'acdeb'</span></span><br><span class="line">d.move_to_end(<span class="string">'b'</span>, last=<span class="literal">False</span>)</span><br><span class="line"><span class="string">''</span>.join(d.keys())</span><br><span class="line"><span class="comment"># 'bacde'</span></span><br></pre></td></tr></table></figure>
<strong>8.<code>UserDict([initialdata])</code></strong></li>
</ul>
</li>
<li>def: Python supports a dictionary like a container called UserDict present in the collections module. This class acts as a wrapper class around the dictionary objects. This class is useful when one wants to create a dictionary of their own with some modified functionality or with some new functionality. It can be considered as a way of adding new behaviors for the dictionary. This class takes a dictionary instance as an argument and simulates a dictionary that is kept in a regular dictionary. The dictionary is accessible by the data attribute of this class.</li>
<li>example:<br>Let’s create a class inherting from UserDict to implement a customised dictionary.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> UserDict</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Creating a Dictionary where</span></span><br><span class="line"><span class="comment"># deletion is not allowed</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDict</span><span class="params">(UserDict)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Function to stop deleltion</span></span><br><span class="line">    <span class="comment"># from dictionary</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> RuntimeError(<span class="string">"Deletion not allowed"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Function to stop pop from  </span></span><br><span class="line">    <span class="comment"># dictionary</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self, s = None)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> RuntimeError(<span class="string">"Deletion not allowed"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Function to stop popitem  </span></span><br><span class="line">    <span class="comment"># from Dictionary</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">popitem</span><span class="params">(self, s = None)</span>:</span></span><br><span class="line">        <span class="keyword">raise</span> RuntimeError(<span class="string">"Deletion not allowed"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Driver's code</span></span><br><span class="line">d = MyDict(&#123;<span class="string">'a'</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">'b'</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">'c'</span>: <span class="number">3</span>&#125;)</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Original Dictionary"</span>)</span><br><span class="line">print(d)</span><br><span class="line"></span><br><span class="line">d.pop(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<strong>9.<code>UserList([list])</code></strong><ul>
<li>def:This class acts as a wrapper around list objects. It is a useful base class for your own list-like classes which can inherit from them and override existing methods or add new ones. In this way, one can add new behaviors to lists.The need for this class has been partially supplanted by the ability to subclass directly from list; however, this class can be easier to work with because the underlying list is accessible as an attribute.</li>
</ul>
</li>
</ul>
<p><strong>10.<code>UserString(seq)</code></strong></p>
<ul>
<li>def: Class that simulates a string object. The instance’s content is kept in a regular string object, which is accessible via the data attribute of UserString instances. The instance’s contents are initially set to a copy of seq. The seq argument can be any object which can be converted into a string using the built-in str() function.</li>
</ul>
</div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/technology/page/0/">Previous</a></div><div class="pagination-next"><a href="/categories/technology/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/technology/">1</a></li><li><a class="pagination-link" href="/categories/technology/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.jpeg" alt="koko"></figure><p class="title is-size-4 is-block line-height-inherit">koko</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Troy, NY</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">18</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">2</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">13</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/lawiet019" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/lawiet019"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/technology/"><span class="level-start"><span class="level-item">technology</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-27T19:21:00.000Z">2020-07-27</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/27/Permutation%20vs%20Combination/">Permutation vs Combination</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/math/">math</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-22T17:48:00.000Z">2020-07-22</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/22/Learning-of-wireshark/">Learning of wireshark</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-12T16:18:00.000Z">2020-07-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/12/common-modules-in-python-6-bisect/">common_modules_in_python(6):bisect</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-12T16:05:00.000Z">2020-07-12</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/12/common-modules-in-python-5-math/">common_modules_in_python(5):math</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-06T17:52:00.000Z">2020-07-06</time></p><p class="title is-6"><a class="link-muted" href="/2020/07/06/common-modules-in-python-4/">common_modules_in_python(4):itertools</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Graph/"><span class="tag">Graph</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bit-manipulation/"><span class="tag">bit manipulation</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collections/"><span class="tag">collections</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/computing/"><span class="tag">computing</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dynamic-programming/"><span class="tag">dynamic programming</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linked-list/"><span class="tag">linked list</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">13</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regular-expression/"><span class="tag">regular expression</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sort/"><span class="tag">sort</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sorting/"><span class="tag">sorting</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tree/"><span class="tag">tree</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.png" alt="lawilet&#039;s website" height="28"></a><p class="size-small"><span>&copy; 2020 lawiet019</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://law-liet.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>