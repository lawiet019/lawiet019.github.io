<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.1"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Category: technology - lawilet&#039;s website</title><meta property="og:type" content="blog"><meta property="og:title" content="lawilet&#039;s website"><meta property="og:url" content="http://law-liet.com/"><meta property="og:site_name" content="lawilet&#039;s website"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://law-liet.com/img/og_image.png"><meta property="article:author" content="lawiet019"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://law-liet.com"},"headline":"lawilet's website","image":["http://law-liet.com/img/og_image.png"],"author":{"@type":"Person","name":"lawiet019"},"description":""}</script><link rel="icon" href="/img/favicon.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/favicon.png" alt="lawilet&#039;s website" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/lawiet019"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">technology</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-12-08T04:07:00.000Z" title="2020-12-08T04:07:00.000Z">2020-12-07</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">14 minutes read (About 2055 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/12/07/Multiprocessing-Vs-Threading/">Multiprocessing Vs. Threading</a></h1><div class="content"><h2 id="Multiple-CPUs-vs-multi-core-CPUs"><a href="#Multiple-CPUs-vs-multi-core-CPUs" class="headerlink" title="Multiple CPUs vs multi-core CPUs"></a>Multiple CPUs vs multi-core CPUs</h2><p><a href="https://www.zhihu.com/question/20998226">https://www.zhihu.com/question/20998226</a></p>
<h2 id="process-vs-Threading"><a href="#process-vs-Threading" class="headerlink" title="process vs Threading"></a>process vs Threading</h2><p>one process can have multiple Threadings<br>process has independet memory while threadings share memory<br><a href="https://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html">https://www.ruanyifeng.com/blog/2013/04/processes_and_threads.html</a></p>
<h2 id="multitasking"><a href="#multitasking" class="headerlink" title="multitasking"></a>multitasking</h2><p>Operating system can run multiple tasks at the same time, you are in the browser, while listening to MP3, while in Word to catch up with homework, this is multi-tasking.<br>three modes of multi-tasking:</p>
<ol>
<li>Multiprocessing</li>
<li>Multithreading</li>
<li>Multiprocessing +  Multithreading</li>
</ol>
<h2 id="parallelism-vs-concurrency"><a href="#parallelism-vs-concurrency" class="headerlink" title="parallelism vs concurrency"></a>parallelism vs concurrency</h2><p><strong>Parallelism</strong>: it means that at the same time, multiple instructions are executed on multiple processors at the same time;<br><strong>Concurrency</strong>: at the same time, only one instruction can be executed, but multiple process instructions are executed in rotation, which makes it possible to execute multiple processes at the same time.</p>
<h2 id="Multithreading-in-Python"><a href="#Multithreading-in-Python" class="headerlink" title="Multithreading in Python"></a>Multithreading in Python</h2><p>For Python3, we usually use <code>threading</code> module.<br>One thing we must notice is that threading cannot provide real . The problem is just that it can’t use more than one of the available cores. This is due to something called the GIL(Global Interpreter Lock). Python threads still work for I/O bound tasks as opposed to CPU bound tasks which may cause deadlocks and race conditions. Many Python libraries solve this issue by using C extensions to bypass the GIL. Of course, this is all in the case of CPython.<br>it is much better to use multiprocessing to get the benefit of all the cores. But there are much fewer cores than there are threads. Cores are valuable resources and take up a lot of memory. If you don’t mind dealing with IPC(Interprocess Communication), then it is a great solution.</p>
<ul>
<li><p>What is GIL (Global Interpreter Lock)</p>
<ul>
<li>It is connected with CPython</li>
<li>It ensures that only one Python thread executes at any time</li>
<li>The GIL prevents race conditions and ensures thread safety. A nice explanation of how the GIL helps in these areas can be found here. In short, this mutex is necessary mainly because CPython’s memory management is not thread-safe.<br><a href="https://python3.guide/python-concurrency/the-python-gil">https://python3.guide/python-concurrency/the-python-gil</a></li>
<li><p>mechanism of GIL</p>
<p><img src="/images/pasted-20.png" alt="GIL.png"><br><a href="http://c.biancheng.net/view/5537.html">http://c.biancheng.net/view/5537.html</a></p>
</li>
<li>How to deal with GIL<ul>
<li>Use multiprocessing</li>
<li>Use another  Python implementation except Cpython</li>
<li>C extension programming technology.The main idea is to transfer computationally intensive tasks to C, independent of Python, and release the GIL in the C code while working. This can be done by inserting a special macro like the following in the C code.<br><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c12/p09_dealing_with_gil_stop_worring_about_it.html">https://python3-cookbook.readthedocs.io/zh_CN/latest/c12/p09_dealing_with_gil_stop_worring_about_it.html</a></li>
</ul>
</li>
</ul>
</li>
<li><p>the module <code>threading</code><br>an example from <a href="cnblogs.com/lucaq/p/7225166.html">website</a></p>
<ul>
<li>basic example</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">import threading</span><br><span class="line">   import time</span><br><span class="line"></span><br><span class="line">   def foo(n):</span><br><span class="line">       print(&#39;&gt;&gt;&gt;&gt;&gt;%s&#39; %n)</span><br><span class="line">       time.sleep(3)</span><br><span class="line"></span><br><span class="line">   def bar(n):</span><br><span class="line">       time.sleep(5)</span><br><span class="line">       print(&#39;&gt;&gt;&gt;&gt;&gt;%s&#39; %n)</span><br><span class="line"></span><br><span class="line">   s &#x3D; time.time()</span><br><span class="line"></span><br><span class="line">   t1 &#x3D; threading.Thread(target&#x3D;foo,args&#x3D;(2,))</span><br><span class="line">   t1.start()    # .start() - activate  thread</span><br><span class="line"></span><br><span class="line">   t2 &#x3D; threading.Thread(target&#x3D;bar,args&#x3D;(5,))</span><br><span class="line">   t2.setDaemon(True)　　# the main thread doesn&#39;t wait the child thread</span><br><span class="line">   t2.start()</span><br><span class="line"></span><br><span class="line">   t1.join()　　# wait one thread to be completed</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   print(&#39;ending!&#39;)</span><br><span class="line">   print(&#39;cost time:&#39;,time.time()-s)</span><br></pre></td></tr></table></figure>
<ul>
<li>use class</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span><span class="params">(threading.Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name)</span>:</span></span><br><span class="line"></span><br><span class="line">        threading.Thread.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">        <span class="comment"># super().__init__()</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">'OK'</span>)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        print(<span class="string">'end'</span>,self.name)</span><br><span class="line"></span><br><span class="line">t1 = MyThread(<span class="string">"t1"</span>)</span><br><span class="line">t1.start()</span><br><span class="line">t2 = MyThread(<span class="string">"t2"</span>)</span><br><span class="line">t2.start()</span><br><span class="line">print(<span class="string">'ending all'</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>lock<br>lock is necessary even though we have GIL. Let we give an example.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">balance = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_it_without_lock</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> balance</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>):</span><br><span class="line">        print(balance)</span><br><span class="line">        balance = balance + n</span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line">        balance = balance - n</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">threads = [</span><br><span class="line">  threading.Thread(target=change_it_without_lock, args=(<span class="number">8</span>,) ),</span><br><span class="line">  threading.Thread(target=change_it_without_lock, args=(<span class="number">10</span>,) )</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">[t.start() <span class="keyword">for</span> t <span class="keyword">in</span> threads]</span><br><span class="line">[t.join() <span class="keyword">for</span> t <span class="keyword">in</span> threads]</span><br></pre></td></tr></table></figure>
<p>   From the unlock version, we will get value like 8,10</p>
<p>   We could use mutex in the following case<br>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">balance = <span class="number">0</span></span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_it_without_lock</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> balance</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>):</span><br><span class="line">        print(balance)</span><br><span class="line">        lock.acquire()</span><br><span class="line">        balance = balance + n</span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line">        balance = balance - n</span><br><span class="line">        lock.release()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">threads = [</span><br><span class="line">  threading.Thread(target=change_it_without_lock, args=(<span class="number">8</span>,) ),</span><br><span class="line">  threading.Thread(target=change_it_without_lock, args=(<span class="number">10</span>,) )</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">[t.start() <span class="keyword">for</span> t <span class="keyword">in</span> threads]</span><br><span class="line">[t.join() <span class="keyword">for</span> t <span class="keyword">in</span> threads]</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>recursive lock<br>Mutex can be divided into recursive lock and non recursive lock. Recursive lock is also called reentrant lock, and non recursive lock is also called non reentrant lock.<br>The same thread can acquire the same recursive lock multiple times without deadlock. If a thread acquires the same non recursive lock multiple times, a deadlock will occur.<br><a href="https://stackoverflow.com/questions/22885775/what-is-the-difference-between-lock-and-rlock">why we need Rlock</a></p>
</li>
<li><p>Semaphore<br>mutex is special case of Semaphore with value 1</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">import</span> threading</span><br><span class="line"> <span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">semaphore = threading.Semaphore(<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    semaphore.acquire()</span><br><span class="line">    print(<span class="string">'OK'</span>)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">    semaphore.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    t = threading.Thread(target=foo,args=())</span><br><span class="line">    t.start()</span><br></pre></td></tr></table></figure></li>
<li><p>Condition</p>
<p>The typical programming style using condition variables uses the lock to synchronize access to some shared state; threads that are interested in a particular change of state call wait() repeatedly until they see the desired state, while threads that modify the state call notify() or notify_all() when they change the state in such a way that it could possibly be a desired state for one of the waiters.<br>Here are functions:</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">   acquire(*args) - Acquire the underlying lock. </span><br><span class="line">   </span><br><span class="line">   release()- Release the underlying lock. </span><br><span class="line">   </span><br><span class="line">   wait(timeout&#x3D;None)- Wait until notified or until a timeout occurs. If the calling thread has not acquired the lock when this method is called, a RuntimeError is raised.</span><br><span class="line">   </span><br><span class="line">   wait_for(predicate, timeout&#x3D;None)- Wait until a condition evaluates to true. predicate should be a callable which result will be interpreted as a boolean value. A timeout may be provided giving the maximum time to wait.</span><br><span class="line">   </span><br><span class="line">   notify(n&#x3D;1) - By default, wake up one thread waiting on this condition, if any. If the calling thread has not acquired the lock when this method is called, a RuntimeError is raised.</span><br><span class="line">   </span><br><span class="line">   notify_all()</span><br><span class="line">Wake up all threads waiting on this condition. This method acts like notify(), but wakes up all waiting threads instead of one. If the calling thread has not acquired the lock when this method is called, a RuntimeError is raised.</span><br></pre></td></tr></table></figure>
<p>   Here is an example of condition Leetcode 1188. Design Bounded Blocking Queue</p>
<ul>
<li>Event<br>The event of threading is used to control the execution of other threads by the main thread. The event mainly provides three methods: wait, clear and set.<br>Event handling mechanism: a “flag” is defined globally. If the value of “flag” is false, then when the program executes event.wait  Method, if the flag value is true, then event.wait  Method is not blocked.<br>Here are some common functions:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">event.wait (timeout = none): the thread calling the method will be blocked. If the timeout parameter <span class="keyword">is</span> set, the thread will stop blocking <span class="keyword">and</span> <span class="keyword">continue</span> to execute after timeout;</span><br><span class="line">event.set (): <span class="keyword">if</span> the flag of event <span class="keyword">is</span> set to true, all threads calling the wait method will be awakened;</span><br><span class="line">event.clear (): <span class="keyword">if</span> the flag of event <span class="keyword">is</span> set to false, all threads calling the wait method will be blocked;</span><br><span class="line">event.isSet (): judge whether the flag of event <span class="keyword">is</span> true.</span><br></pre></td></tr></table></figure>
Here is an application of it.<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading,time</span><br><span class="line"></span><br><span class="line">event = threading.Event() <span class="comment"># default value is false</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> event.is_set():</span><br><span class="line">        print(<span class="string">'wait.....'</span>)</span><br><span class="line">        event.wait(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        print(<span class="string">'Connect to redis server'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">    t = threading.Thread(target=foo,args=())</span><br><span class="line">    t.start()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'attempt to start redis server'</span>)</span><br><span class="line">time.sleep(<span class="number">10</span>)</span><br><span class="line">event.set()     <span class="comment"># set the flag as True</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="multiprocessing-in-python"><a href="#multiprocessing-in-python" class="headerlink" title="multiprocessing in python"></a>multiprocessing in python</h2><p>Unlike multithreading, The multiprocessing in Python is real.We always use <code>multiprocessing</code>.<br>Let we look at it:</p>
<ul>
<li>basic exmaple </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">" the child %s with pid run：%s"</span>%(name,os.getpid())) </span><br><span class="line">        print(<span class="string">"the id of the parent is %d"</span>%os.getppid())</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    print(<span class="string">"the parent process %d starts"</span> % os.getpid())</span><br><span class="line">    <span class="comment"># create the child process and pass new arguments</span></span><br><span class="line">    p = Process(target=run, args=(<span class="string">"Ail"</span>,)) </span><br><span class="line">    p.start()  <span class="comment"># start child process </span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"this is forever loop for see process status"</span>)</span><br><span class="line">        time.sleep(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>The output is like </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">the parent process 20686 starts</span><br><span class="line">this is forever loop for see process status</span><br><span class="line">the child Ail with pid run：20687</span><br><span class="line">the id of the parent is 20686</span><br></pre></td></tr></table></figure>
<p>We could use command <code>ps aux | egrep &#39;(python)&#39;</code><br>We could see script like that<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">koko             20687   0.0  0.0  4284264   1312 s001  S+    7:25PM   0:00.08 python &#x2F;Users&#x2F;koko&#x2F;Documents&#x2F;prep&#x2F;blog&#x2F;test.py</span><br><span class="line">koko             20686   0.0  0.0  4284264   2900 s001  S+    7:25PM   0:00.16 python &#x2F;Users&#x2F;koko&#x2F;Documents&#x2F;prep&#x2F;blog&#x2F;test.py</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>join</code> function - make  parent process wait the child process to end</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"child process starts"</span>)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    print(<span class="string">"child process ends"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    print(<span class="string">"parent process starts"</span>)</span><br><span class="line">    p = Process(target=run)</span><br><span class="line">    p.start()</span><br><span class="line">    p.join()  <span class="comment"># wait children process </span></span><br><span class="line">    print(<span class="string">"parent process ends"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p><code>Pool</code></p>
<p>to handle lots of child process </p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> multiprocessing.pool <span class="keyword">import</span> Pool</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep, time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(name)</span>:</span></span><br><span class="line">    print(<span class="string">"child process named %s starts,and its ID is %d"</span> % (name, os.getpid()))</span><br><span class="line">    start = time()</span><br><span class="line">    sleep(random.choice([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]))</span><br><span class="line">    end = time()</span><br><span class="line">    print(<span class="string">"child process named %s starts,and its ID is %d. It spend times .2%f"</span> % (name, os.getpid(), end-start))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    print(<span class="string">"parent process starts"</span>)</span><br><span class="line">    <span class="comment"># set size of pool, the default value is the number of cores </span></span><br><span class="line">    p = Pool(<span class="number">8</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        <span class="comment"># put into pool</span></span><br><span class="line">        p.apply_async(run, args=(i,))</span><br><span class="line">    <span class="comment"># we must call close before join and close will let all no other process can joined</span></span><br><span class="line">    p.close()</span><br><span class="line">    <span class="comment"># wait all the child  process to end </span></span><br><span class="line">    p.join()</span><br><span class="line">    print(<span class="string">"parent process ends"</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>the Communication of child process and parent process </p>
<p>They cannot share the global variable. We will use <code>Queue</code> in <code>multiprocessing</code>. Queue will offer methods to write and read.<br>Both end of queue can read and write.Here is an example</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process, Queue</span><br><span class="line"><span class="keyword">import</span> os, time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">child1</span><span class="params">(w_value,q)</span>:</span></span><br><span class="line">    q.put(w_value) </span><br><span class="line">    r = q.get()<span class="comment"># it will block</span></span><br><span class="line">    print(<span class="string">"child 1 read"</span>,r)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">child2</span><span class="params">(w_value,q)</span>:</span></span><br><span class="line">    r = q.get()</span><br><span class="line">    print(<span class="string">"child 2 read "</span>,r)</span><br><span class="line">    q.put(w_value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">  </span><br><span class="line">    q = Queue()</span><br><span class="line">    c1 = Process(target=child1, args=(<span class="number">1</span>,q,))</span><br><span class="line">    c2 = Process(target=child2, args=(<span class="number">2</span>,q,))</span><br><span class="line">    c1.start()</span><br><span class="line">    c2.start()</span><br></pre></td></tr></table></figure>
<p>   other functions in queue </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Queue.qsize() # return the size of queue   </span><br><span class="line">Queue.empty() # check wether the queue is empty   </span><br><span class="line">Queue.get_nowait() # Return an item if one is immediately available, else raise QueueEmpty.</span><br></pre></td></tr></table></figure>
<p>  Another class <a href="https://docs.python.org/3/library/multiprocessing.html">Pipe</a> can be used for this too.</p>
<p>  Also <code>shared memory</code> can be used to handle this problem.<br>    Data can be stored in a shared memory map using <code>Value</code> or <code>Array</code>. For example, the following code</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process, Value, Array</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(n, a)</span>:</span></span><br><span class="line">    n.value = <span class="number">3.1415927</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(a)):</span><br><span class="line">        a[i] = -a[i]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    num = Value(<span class="string">'d'</span>, <span class="number">0.0</span>)</span><br><span class="line">    arr = Array(<span class="string">'i'</span>, range(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line">    p = Process(target=f, args=(num, arr))</span><br><span class="line">    p.start()</span><br><span class="line">    p.join()</span><br><span class="line"></span><br><span class="line">    print(num.value)</span><br><span class="line">    print(arr[:])</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Lock </p>
<p>we could use a lock to ensure Synchronization</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process, Lock</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(l, i)</span>:</span></span><br><span class="line">    l.acquire()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        print(<span class="string">'hello world'</span>, i)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        l.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    lock = Lock()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        Process(target=f, args=(lock, num)).start()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>other functions <ul>
<li>count the number of core of computers<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'the number of cores is '</span> + str(multiprocessing.cpu_count()))</span><br></pre></td></tr></table></figure></li>
<li>All currently running  child processes<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">import</span> os </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(name)</span>:</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">" the child %s with pid run：%s"</span>%(name,os.getpid()))</span><br><span class="line">        print(<span class="string">"the id of the parent is %d"</span>%os.getppid())</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">p = Process(target=run, args=(<span class="string">"Ail"</span>,))</span><br><span class="line">p.start()</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> multiprocessing.active_children():</span><br><span class="line">        print(<span class="string">'the child process name is  '</span> + p.name + <span class="string">' id: '</span> + str(p.pid))</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h2><p><a href="https://stackoverflow.com/questions/44793371/is-multithreading-in-python-a-myth#:~:text=No%2C%20Python%20does%20have%20multithreading,GIL(Global%20Interpreter%20Lock">https://stackoverflow.com/questions/44793371/is-multithreading-in-python-a-myth#:~:text=No%2C%20Python%20does%20have%20multithreading,GIL(Global%20Interpreter%20Lock</a>).<br><a href="http://c.biancheng.net/view/5537.html">http://c.biancheng.net/view/5537.html</a><br><a href="https://python3-cookbook.readthedocs.io/zh_CN/latest/c12/p09_dealing_with_gil_stop_worring_about_it.html">https://python3-cookbook.readthedocs.io/zh_CN/latest/c12/p09_dealing_with_gil_stop_worring_about_it.html</a><br><a href="https://www.jianshu.com/p/a5f10c152c20">https://www.jianshu.com/p/a5f10c152c20</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-11-27T05:09:00.000Z" title="2020-11-27T05:09:00.000Z">2020-11-27</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">a minute read (About 155 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/11/27/application-of-binary-search/">application of binary search</a></h1><div class="content"><h2 id="some-common-applications-of-binary-search"><a href="#some-common-applications-of-binary-search" class="headerlink" title="some common applications of binary search"></a>some common applications of binary search</h2><p>Since I always make mistakes on the while loop of binary search, I list the codes for common scenario.</p>
<ul>
<li>find the exact value </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binarySearch</span><span class="params">(arr,target)</span>:</span></span><br><span class="line">    arr.sort()</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(arr)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span> left &lt;= right:</span><br><span class="line">        mid = (left + right) //<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid] == target:</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &gt; target:</span><br><span class="line">            right = mid <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left = mid +<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>
<ul>
<li>find the closet value </li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findClosetElement</span><span class="params">(arr,target)</span>:</span></span><br><span class="line">    arr.sort()</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(arr)<span class="number">-1</span></span><br><span class="line">    <span class="keyword">if</span> target &gt;=arr[<span class="number">-1</span>]:</span><br><span class="line">        <span class="keyword">return</span>  right</span><br><span class="line">    <span class="keyword">if</span> target &lt;= arr[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    <span class="keyword">while</span> right - left &gt;<span class="number">1</span>:</span><br><span class="line">        mid = (right + left)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid] == target:</span><br><span class="line">            <span class="keyword">return</span> mid</span><br><span class="line">        <span class="keyword">elif</span> arr[mid] &gt; target:</span><br><span class="line">            right = mid</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left = mid</span><br><span class="line">    <span class="keyword">return</span> left <span class="keyword">if</span> abs(arr[left] - target) &lt; abs(arr[right] - target) <span class="keyword">else</span> right</span><br></pre></td></tr></table></figure>
<ul>
<li>find the maximum value less than the target</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findMax</span><span class="params">(arr,target)</span>:</span></span><br><span class="line">    arr.sort()</span><br><span class="line">    left = <span class="number">0</span></span><br><span class="line">    right = len(arr) <span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span> left &lt; right:</span><br><span class="line">        mid = (left + right)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[mid]&gt;= target:</span><br><span class="line">            right = mid <span class="number">-1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left  = mid +<span class="number">1</span></span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-10-11T20:02:00.000Z" title="2020-10-11T20:02:00.000Z">2020-10-11</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">5 minutes read (About 773 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/10/11/prefix-infix-and-postfix/">prefix,infix and postfix</a></h1><div class="content"><h3 id="1-what-is-prefix-infix-and-postfix"><a href="#1-what-is-prefix-infix-and-postfix" class="headerlink" title="1. what is prefix,infix and postfix"></a>1. what is prefix,infix and postfix</h3><ul>
<li><strong>Infix notation:</strong> <code>X + Y</code><br>Operators are written in-between their operands. This is the usual way we write expressions. An expression such as <code>A * ( B + C ) / D</code> is usually taken to mean something like: “First add B and C together, then multiply the result by A, then divide by D to give the final answer.”</li>
<li><strong> Postfix notation</strong> (also known as “Reverse Polish notation”): <code>X Y +</code><br>Operators are written after their operands.The infix expression given above is equivalent to <code>A B C + * D /</code></li>
<li><strong>Prefix notation </strong>(also known as “Polish notation”): <code>+ X Y</code><br>Operators are written before their operands. The expressions given above are equivalent to / * A + B C D`</li>
</ul>
<p>And we use infix in real life but use prefix for computers</p>
<h3 id="2-how-to-compute-the-result-of-prefix"><a href="#2-how-to-compute-the-result-of-prefix" class="headerlink" title="2. how to compute the result of  prefix"></a>2. how to compute the result of  prefix</h3><ul>
<li>Steps:<br>Traverse the expression from left to right:<ul>
<li>If it is a number, press num_ Stack.</li>
<li>If it is an operator, take out num_ The first two elements in the stack, the second is the operands on the left side of the expression, calculate the value of the expression, and press the evaluation result into num_Stack.</li>
</ul>
</li>
<li>example:<br>Leetcode 150. Evaluate Reverse Polish Notation<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">evalRPN</span><span class="params">(self, tokens)</span>:</span></span><br><span class="line">      stack = []</span><br><span class="line">      <span class="keyword">for</span> t <span class="keyword">in</span> tokens:</span><br><span class="line">          <span class="keyword">if</span> t <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">"+"</span>, <span class="string">"-"</span>, <span class="string">"*"</span>, <span class="string">"/"</span>]:</span><br><span class="line">              stack.append(int(t))</span><br><span class="line">          <span class="keyword">else</span>:</span><br><span class="line">              r, l = stack.pop(), stack.pop()</span><br><span class="line">              <span class="keyword">if</span> t == <span class="string">"+"</span>:</span><br><span class="line">                  stack.append(l+r)</span><br><span class="line">              <span class="keyword">elif</span> t == <span class="string">"-"</span>:</span><br><span class="line">                  stack.append(l-r)</span><br><span class="line">              <span class="keyword">elif</span> t == <span class="string">"*"</span>:</span><br><span class="line">                  stack.append(l*r)</span><br><span class="line">              <span class="keyword">else</span>:</span><br><span class="line">                  <span class="comment"># here take care of the case like "1/-22",</span></span><br><span class="line">                  <span class="comment"># in Python 2.x, it returns -1, while in</span></span><br><span class="line">                  <span class="comment"># Leetcode it should return 0</span></span><br><span class="line">                  <span class="keyword">if</span> l*r &lt; <span class="number">0</span> <span class="keyword">and</span> l % r != <span class="number">0</span>:</span><br><span class="line">                      stack.append(l//r+<span class="number">1</span>)</span><br><span class="line">                  <span class="keyword">else</span>:</span><br><span class="line">                      stack.append(l//r)</span><br><span class="line">      <span class="keyword">return</span> stack.pop()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-convert-prefix-to-infix"><a href="#3-convert-prefix-to-infix" class="headerlink" title="3. convert prefix to infix"></a>3. convert prefix to infix</h3><ul>
<li>steps:</li>
</ul>
<ol>
<li>If it is a number, add it to output directly.</li>
<li>If it is an operator, compare the toppest operator with Op_Stack The priority of the operator in the stack, if the priority is greater than that in  Op_Stack, push  it into Op_ Stack<br>Otherwise, pop all operators in the Op_Stack whose priority is greater than or equal to the priority of the operator are added to the output, and then push this operator into Op_ Stack</li>
<li>If it is <code>(</code> , press Op_ Stack</li>
<li>If it is a <code>)</code>, pop  all operators in front of the left bracket in the stack a to the output<br>Repeat the above steps.</li>
<li>It will pop all the element in the stack in order<br>The code can be seen as follows:</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding:utf-8</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">priority</span><span class="params">(z)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> z <span class="keyword">in</span> [<span class="string">'×'</span>, <span class="string">'*'</span>, <span class="string">'/'</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">elif</span> z <span class="keyword">in</span> [<span class="string">'+'</span>, <span class="string">'-'</span>]:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">in2post</span><span class="params">(expr)</span>:</span></span><br><span class="line">    <span class="string">""" :param expr: 前缀表达式</span></span><br><span class="line"><span class="string">        :return: 后缀表达式</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        Example：</span></span><br><span class="line"><span class="string">            "1+((2+3)×4)-5"</span></span><br><span class="line"><span class="string">            "1 2 3 + 4 × + 5 -"</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    stack = []  <span class="comment"># 存储栈</span></span><br><span class="line">    post = []  <span class="comment"># 后缀表达式存储</span></span><br><span class="line">    <span class="keyword">for</span> z <span class="keyword">in</span> expr:</span><br><span class="line">        <span class="keyword">if</span> z <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">'×'</span>, <span class="string">'*'</span>, <span class="string">'/'</span>, <span class="string">'+'</span>, <span class="string">'-'</span>, <span class="string">'('</span>, <span class="string">')'</span>]:  <span class="comment"># 字符直接输出</span></span><br><span class="line">            post.append(z)</span><br><span class="line">            print(<span class="number">1</span>, post)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> z != <span class="string">')'</span> <span class="keyword">and</span> (<span class="keyword">not</span> stack <span class="keyword">or</span> z == <span class="string">'('</span> <span class="keyword">or</span> stack[<span class="number">-1</span>] == <span class="string">'('</span></span><br><span class="line">                             <span class="keyword">or</span> priority(z) &gt; priority(stack[<span class="number">-1</span>])):  <span class="comment"># stack 不空；栈顶为（；优先级大于</span></span><br><span class="line">                stack.append(z)     <span class="comment"># 运算符入栈</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> z == <span class="string">')'</span>:  <span class="comment"># 右括号出栈</span></span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    x = stack.pop()</span><br><span class="line">                    <span class="keyword">if</span> x != <span class="string">'('</span>:</span><br><span class="line">                        post.append(x)</span><br><span class="line">                        print(<span class="number">2</span>, post)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:   <span class="comment"># 比较运算符优先级，看是否入栈出栈</span></span><br><span class="line">                <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                    <span class="keyword">if</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>] != <span class="string">'('</span> <span class="keyword">and</span> priority(z) &lt;= priority(stack[<span class="number">-1</span>]):</span><br><span class="line">                        post.append(stack.pop())</span><br><span class="line">                        print(<span class="number">3</span>, post)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        stack.append(z)</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">while</span> stack:    <span class="comment"># 还未出栈的运算符，需要加到表达式末尾</span></span><br><span class="line">        post.append(stack.pop())</span><br><span class="line">    <span class="keyword">return</span> post</span><br></pre></td></tr></table></figure>
<p>And an example of application is Leetcode 224. Basic Calculator<br>Here is how I convert infix to postfix and compute it based on postfix</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span><span class="params">(self, s: str)</span> -&gt; int:</span></span><br><span class="line">        postfix = []</span><br><span class="line">        o_stack=[]</span><br><span class="line">        index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> index &lt; len(s):</span><br><span class="line">            c = s[index]</span><br><span class="line">            <span class="keyword">if</span> c.isdigit():</span><br><span class="line">                num = []</span><br><span class="line">                <span class="keyword">while</span> index &lt; len(s) <span class="keyword">and</span>  s[index].isdigit():</span><br><span class="line">                    num.append(s[index])</span><br><span class="line">                    index = index +<span class="number">1</span></span><br><span class="line">                postfix.append(<span class="string">""</span>.join(num))</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line">             <span class="keyword">if</span>  c ==<span class="string">')'</span>:</span><br><span class="line">                <span class="keyword">while</span> o_stack:</span><br><span class="line">                    cur = o_stack.pop()</span><br><span class="line">                    <span class="keyword">if</span> cur == <span class="string">'('</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    postfix.append(cur)</span><br><span class="line">             <span class="keyword">elif</span>  c ==<span class="string">"("</span> <span class="keyword">or</span> (( <span class="keyword">not</span> o_stack <span class="keyword">or</span> o_stack[<span class="number">-1</span>] == <span class="string">"("</span>) <span class="keyword">and</span> (c==<span class="string">"+"</span> <span class="keyword">or</span> c ==<span class="string">"-"</span>)):</span><br><span class="line">                 o_stack.append(c)</span><br><span class="line">             <span class="keyword">elif</span> c ==<span class="string">"+"</span> <span class="keyword">or</span> c ==<span class="string">"-"</span>:</span><br><span class="line">                 <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                     <span class="keyword">if</span> o_stack <span class="keyword">and</span> o_stack[<span class="number">-1</span>] !=<span class="string">'('</span>:</span><br><span class="line">                         postfix.append(o_stack.pop())</span><br><span class="line">                     <span class="keyword">else</span>:</span><br><span class="line">                         o_stack.append(c)</span><br><span class="line">                         <span class="keyword">break</span></span><br><span class="line">             index = index +<span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> o_stack:</span><br><span class="line">            postfix.append(o_stack.pop())</span><br><span class="line">        print(postfix)</span><br><span class="line">        n_stack = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> postfix:</span><br><span class="line">            <span class="keyword">if</span> c.isdigit():</span><br><span class="line">                n_stack.append(c)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                num1,num2 = int(n_stack.pop()), int(n_stack.pop())</span><br><span class="line">                <span class="keyword">if</span> c ==<span class="string">"+"</span>:</span><br><span class="line">                    n_stack.append(num1+num2)</span><br><span class="line">                <span class="keyword">elif</span> c ==<span class="string">"-"</span>:</span><br><span class="line">                    n_stack.append(num2-num1)</span><br><span class="line">        <span class="keyword">return</span> n_stack[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-16T02:10:00.000Z" title="2020-08-16T02:10:00.000Z">2020-08-15</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a><span> / </span><a class="link-muted" href="/categories/technology/math/">math</a></span><span class="level-item">a minute read (About 220 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/15/Sieve-of-Eratosthenes/">Sieve of Eratosthenes</a></h1><div class="content"><p>It is the most efficient way to find all of the small primes</p>
<h2 id="steps"><a href="#steps" class="headerlink" title="steps:"></a>steps:</h2><ul>
<li>Create a list of consecutive integers from $2$ to $n$: $(2, 3, 4, …, n)$.</li>
<li>Initially, let p equal 2, the first prime number.</li>
<li>Starting from $p^2$, count up in increments of $p$ and mark each of these numbers greater than or equal to $p^2$ itself in the list. These numbers will be $p(p+1), p(p+2), p(p+3)$, etc..<br>The reason why we can start from $p^2$ rather than $2p$ is that if a number can be divided by $np ( n is less than p)$, we could find the number will be removed in previous turn. For example, we don’t need to remove 6 when $p =3$ because it is removed when p =2</li>
<li>Find the first number greater than $p$ in the list that is not marked. If there was no such number, stop. Otherwise, let $p$ now equal this number (which is the next prime), and repeat from step 3.</li>
<li>The upper limit of $p$ don’t need to be $n$ but $\sqrt{n}$</li>
</ul>
<h2 id="python-code"><a href="#python-code" class="headerlink" title="python code"></a>python code</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"><span class="comment"># @param &#123;integer&#125; n</span></span><br><span class="line"><span class="comment"># @return &#123;integer&#125;</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countPrimes</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        primes = [<span class="literal">True</span>] * n</span><br><span class="line">        primes[<span class="number">0</span>] = primes[<span class="number">1</span>] = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, int(n ** <span class="number">0.5</span>) + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> primes[i]:</span><br><span class="line">                primes[i * i: n: i] = [<span class="literal">False</span>] * len(primes[i * i: n: i])</span><br><span class="line">        <span class="keyword">return</span> sum(primes)</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-08-16T02:02:00.000Z" title="2020-08-16T02:02:00.000Z">2020-08-15</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a><span> / </span><a class="link-muted" href="/categories/technology/math/">math</a></span><span class="level-item">2 minutes read (About 255 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/08/15/catalan-number/">catalan number</a></h1><div class="content"><h2 id="1-formula-about-catalan-number"><a href="#1-formula-about-catalan-number" class="headerlink" title="1. formula about catalan number"></a>1. formula about catalan number</h2><p>The Catalan numbers $C_0,C_1, \ldots, C_n$,are given by the formula<br>$C_n = \frac{1}{n+1}\dbinom{2n}{n}$.<br>The proof can be found<br><a href="https://blog.csdn.net/stpeace/article/details/45938477">https://blog.csdn.net/stpeace/article/details/45938477</a> and <a href="https://brilliant.org/wiki/catalan-numbers/">https://brilliant.org/wiki/catalan-numbers/</a>.</p>
<p>And the Catalan numbers satisfy the recurrence relation<br>$C_{n+1}=C_0C_n +C_1C_{n-1}+ \ldots+ C_nC_0 $</p>
<h2 id="2-examples"><a href="#2-examples" class="headerlink" title="2.examples"></a>2.examples</h2><ul>
<li><p>Leetcode 96. Unique Binary Search Trees</p>
<p>In a BST, only the relative ordering between the elements matter. So, without any loss on generality, we can assume the distinct elements in the tree are 1, 2, 3, 4, …., n. Also, let the number of BST be represented by f(n) for n elements.</p>
<p>Now we have the multiple cases for choosing the root.</p>
<p>choose 1 as root, no element can be inserted on the left sub-tree. n-1 elements will be inserted on the right sub-tree.<br>Choose 2 as root, 1 element can be inserted on the left sub-tree. n-2 elements can be inserted on the right sub-tree.<br>Choose 3 as root, 2 element can be inserted on the left sub-tree. n-3 elements can be inserted on the right sub-tree.<br>…… Similarly, for i-th element as the root, i-1 elements can be on the left and n-i on the right.</p>
<p>These sub-trees are itself BST, thus, we can summarize the formula as:</p>
<p><code>f(n) = f(0)f(n-1) + f(1)f(n-2) + .......... + f(n-1)f(0)</code><br>The python code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">  def numTrees(self, n: int) -&gt; int:</span><br><span class="line">       return int((1&#x2F;(n+1))* math.factorial(2*n)&#x2F;math.factorial(n)&#x2F;math.factorial(n))</span><br></pre></td></tr></table></figure></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-22T17:48:00.000Z" title="2020-07-22T17:48:00.000Z">2020-07-22</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">4 minutes read (About 537 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/22/Learning-of-wireshark/">Learning of wireshark</a></h1><div class="content"><h2 id="what-is-wireshark"><a href="#what-is-wireshark" class="headerlink" title="what is wireshark"></a>what is wireshark</h2><p>Wireshark is a free and open-source packet analyzer. It is used for network troubleshooting, analysis, software and communications protocol development, and education.<br>Wireshark’s native network trace file format is the libpcap format supported by libpcap and WinPcap, so it can exchange captured network traces with other applications that use the same format, including tcpdump and CA NetMaster. It can also read captures from other network analyzers, such as snoop, Network General’s Sniffer, and Microsoft Network Monitor.</p>
<h2 id="download"><a href="#download" class="headerlink" title="download"></a>download</h2><p><a href="https://www.wireshark.org/">https://www.wireshark.org/</a></p>
<h2 id="Intro-to-the-interface"><a href="#Intro-to-the-interface" class="headerlink" title="Intro to the interface"></a>Intro to the interface</h2><p><img src="/images/pasted-16.png" alt="wireshark_1.png"><br><img src="/images/pasted-17.png" alt="wireshark_2.png"></p>
<ul>
<li><p>How to use the filter</p>
<ul>
<li>Protocol filtering<br>It is relatively simple. You can directly input the protocol name in the packet capture filter box.(lowercase needed)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tcp # only displays the packet list of TCP protocol</span><br><span class="line">http # only view the packet list of HTTP protocol</span><br><span class="line">icmp # only view the packet list of icmp protocol</span><br></pre></td></tr></table></figure></li>
<li>IP filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ip.src &#x3D;&#x3D;192.168.1.104  # displays the list of packets with source address 192.168.1.104</span><br><span class="line">ip.dst&#x3D;&#x3D;192.168.1.104 #display the list of packets whose destination address is 192.168.1.104</span><br><span class="line">ip.addr &#x3D;&#x3D; 192.168.1.104  #displays a list of packets with source IP address or destination IP address 192.168.1.104</span><br></pre></td></tr></table></figure></li>
<li>Port filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tcp.port &#x3D;&#x3D;80 # displays a list of packets with source port 80 or destination host port 80.</span><br><span class="line">tcp.srcport &#x3D;&#x3D; 80, only displays the list of packets with TCP source port 80.</span><br><span class="line">、cp.dstport &#x3D;&#x3D; 80, only display the list of packets whose destination port of TCP protocol is 80.</span><br></pre></td></tr></table></figure></li>
<li>http mode filtering<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http.request.method&#x3D;&#x3D;&quot;GET&quot; -  Only the HTTP GET method is displayed.</span><br></pre></td></tr></table></figure></li>
<li><p>comparison operator<br>== (equal to),!= (not equal),&gt; (greater than), &lt;(less than), &gt;= (greater than or equal), &lt;= (less than or equal)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip.src&#x3D;&#x3D;IP-address and ip.dst&#x3D;&#x3D;IP-address</span><br></pre></td></tr></table></figure>
</li>
<li><p>Logical operators<br>&amp; &amp; (and), | (or),!（not)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp.port &#x3D;&#x3D; 80 || udp.port &#x3D;&#x3D; 80</span><br></pre></td></tr></table></figure></li>
<li>Filter by packet content.Suppose I want to filter the content in the IMCP layer, I can click the code stream in the selected interface and select the data below.</li>
</ul>
</li>
</ul>
<p><img src="/images/pasted-18.png" alt="wireshark_3.png"></p>
<ul>
<li><p>data of requests (text form )</p>
<ul>
<li>The first line: the overall overview of the data packet.</li>
<li>The second line: link layer details, mainly the mac addresses of both parties</li>
<li>The Third line: network layer details, mainly the IP addresses of both parties</li>
<li>The fourth line: detailed information of the transport layer, mainly the port numbers of both parties.</li>
</ul>
</li>
<li><p>For the requests list part:<br>Here are explainations about different columns</p>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th>column</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>No.</td>
<td>This is the number order of the packet that got captured. The bracket indicates that this packet is part of a conversation.</td>
</tr>
<tr>
<td>Time</td>
<td>This column shows you how long after you started the capture that this packet got captured. You can change this value in the Settings menu if you need something different displayed.</td>
</tr>
<tr>
<td>Source</td>
<td>This is the address of the system that sent the packet.</td>
</tr>
<tr>
<td>Destination</td>
<td>This is the address of the destination of that packet.</td>
</tr>
<tr>
<td>Protocol</td>
<td>This is the type of packet, for example, TCP, DNS, DHCPv6, or ARP.</td>
</tr>
<tr>
<td>Length</td>
<td>This column shows you the length of the packet in bytes</td>
</tr>
<tr>
<td>Info</td>
<td>This column shows you more information about the packet contents, and will vary depending on what kind of packet it is</td>
</tr>
</tbody>
</table>
</div>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://www.cnblogs.com/mq0036/p/11187138.html">https://www.cnblogs.com/mq0036/p/11187138.html</a><br><a href="https://www.varonis.com/blog/how-to-use-wireshark/">https://www.varonis.com/blog/how-to-use-wireshark/</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-12T16:18:00.000Z" title="2020-07-12T16:18:00.000Z">2020-07-12</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">6 minutes read (About 906 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/12/common-modules-in-python-6-bisect/">common_modules_in_python(6):bisect</a></h1><div class="content"><p>This module provides support for maintaining a list in sorted order without having to sort the list after each insertion. For long lists of items with expensive comparison operations, this can be an improvement over the more common approach. The module is called bisect because it uses a basic bisection algorithm to do its work. The source code may be most useful as a working example of the algorithm (the boundary conditions are already right!).</p>
<h2 id="logic-binary-search"><a href="#logic-binary-search" class="headerlink" title="logic - binary search"></a>logic - binary search</h2><ul>
<li>Compare x with the middle element.</li>
<li>If x matches with middle element, we return the mid index.</li>
<li>Else If x is greater than the mid element, then x can only lie in right half subarray after the mid element. So we recur for right half.</li>
<li>Else (x is smaller) recur for the left half.<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#Pseudocode</span><br><span class="line">function binary_search(A, n, T) is</span><br><span class="line">  L :&#x3D; 0</span><br><span class="line">  R :&#x3D; n − 1</span><br><span class="line">  while L ≤ R do</span><br><span class="line">      m :&#x3D; floor((L + R) &#x2F; 2)</span><br><span class="line">      if A[m] &lt; T then</span><br><span class="line">          L :&#x3D; m + 1</span><br><span class="line">      else if A[m] &gt; T then</span><br><span class="line">          R :&#x3D; m − 1</span><br><span class="line">      else:</span><br><span class="line">          return m</span><br><span class="line">  return unsuccessful</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><ul>
<li><p><code>bisect.bisect_left(a, x, lo=0, hi=len(a))</code><br>(find the location but not insert)<br>Locate the insertion point for x in a to maintain sorted order. The parameters lo and hi may be used to specify a subset of the list which should be considered; by default the entire list is used. If x is already present in a, the insertion point will be before (to the left of) any existing entries. The return value is suitable for use as the first parameter to list.insert() assuming that a is already sorted.<br>The returned insertion point i partitions the array a into two halves so that all(val &lt; x for val in a[lo:i]) for the left side and all(val &gt;= x for val in a[i:hi]) for the right side.</p>
</li>
<li><p><code>bisect.bisect_right(a, x, lo=0, hi=len(a))</code></p>
</li>
<li><p><code>bisect.bisect(a, x, lo=0, hi=len(a))</code><br>Similar to bisect_left(), but returns an insertion point which comes after (to the right of) any existing entries of x in a.</p>
<p>The returned insertion point i partitions the array a into two halves so that all(val &lt;= x for val in a[lo:i]) for the left side and all(val &gt; x for val in a[i:hi]) for the right side.</p>
</li>
<li><p><code>bisect.insort_left(a, x, lo=0, hi=len(a))</code><br>Insert x in a in sorted order. This is equivalent to a.insert(bisect.bisect_left(a, x, lo, hi), x) assuming that a is already sorted. Keep in mind that the O(log n) search is dominated by the slow O(n) insertion step.</p>
</li>
<li><p><code>bisect.insort_right(a, x, lo=0, hi=len(a))</code></p>
</li>
<li><code>bisect.insort(a, x, lo=0, hi=len(a))</code><br>Similar to insort_left(), but inserting x in a after any existing entries of x.</li>
</ul>
<h2 id="source-code-of-bisect"><a href="#source-code-of-bisect" class="headerlink" title="source code of bisect"></a>source code of bisect</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""Bisection algorithms."""</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insort_right</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Insert item x in list a, and keep it sorted assuming a is sorted.</span></span><br><span class="line"><span class="string">    If x is already in a, insert it to the right of the rightmost x.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    lo = bisect_right(a, x, lo, hi)</span><br><span class="line">    a.insert(lo, x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bisect_right</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Return the index where to insert item x in list a, assuming a is sorted.</span></span><br><span class="line"><span class="string">    The return value i is such that all e in a[:i] have e &lt;= x, and all e in</span></span><br><span class="line"><span class="string">    a[i:] have e &gt; x.  So if x already appears in the list, a.insert(i, x) will</span></span><br><span class="line"><span class="string">    insert just after the rightmost x already there.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lo &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'lo must be non-negative'</span>)</span><br><span class="line">    <span class="keyword">if</span> hi <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        hi = len(a)</span><br><span class="line">    <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">        mid = (lo+hi)//<span class="number">2</span></span><br><span class="line">        <span class="comment"># Use __lt__ to match the logic in list.sort() and in heapq</span></span><br><span class="line">        <span class="keyword">if</span> x &lt; a[mid]: hi = mid</span><br><span class="line">        <span class="keyword">else</span>: lo = mid+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> lo</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insort_left</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Insert item x in list a, and keep it sorted assuming a is sorted.</span></span><br><span class="line"><span class="string">    If x is already in a, insert it to the left of the leftmost x.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    lo = bisect_left(a, x, lo, hi)</span><br><span class="line">    a.insert(lo, x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bisect_left</span><span class="params">(a, x, lo=<span class="number">0</span>, hi=None)</span>:</span></span><br><span class="line">    <span class="string">"""Return the index where to insert item x in list a, assuming a is sorted.</span></span><br><span class="line"><span class="string">    The return value i is such that all e in a[:i] have e &lt; x, and all e in</span></span><br><span class="line"><span class="string">    a[i:] have e &gt;= x.  So if x already appears in the list, a.insert(i, x) will</span></span><br><span class="line"><span class="string">    insert just before the leftmost x already there.</span></span><br><span class="line"><span class="string">    Optional args lo (default 0) and hi (default len(a)) bound the</span></span><br><span class="line"><span class="string">    slice of a to be searched.</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> lo &lt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">raise</span> ValueError(<span class="string">'lo must be non-negative'</span>)</span><br><span class="line">    <span class="keyword">if</span> hi <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        hi = len(a)</span><br><span class="line">    <span class="keyword">while</span> lo &lt; hi:</span><br><span class="line">        mid = (lo+hi)//<span class="number">2</span></span><br><span class="line">        <span class="comment"># Use __lt__ to match the logic in list.sort() and in heapq</span></span><br><span class="line">        <span class="keyword">if</span> a[mid] &lt; x: lo = mid+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>: hi = mid</span><br><span class="line">    <span class="keyword">return</span> lo</span><br><span class="line"></span><br><span class="line"><span class="comment"># Overwrite above definitions with a fast C implementation</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">from</span> _bisect <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">except</span> ImportError:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Create aliases</span></span><br><span class="line">bisect = bisect_right</span><br><span class="line">insort = insort_right</span><br><span class="line">© <span class="number">2020</span> GitHub, Inc.</span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://docs.python.org/3/library/bisect.html">https://docs.python.org/3/library/bisect.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-12T16:05:00.000Z" title="2020-07-12T16:05:00.000Z">2020-07-12</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">4 minutes read (About 599 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/12/common-modules-in-python-5-math/">common_modules_in_python(5):math</a></h1><div class="content"><div class="table-container">
<table>
<thead>
<tr>
<th>Constants</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>math.pi</td>
<td>the ratio of a circle’s circumference (c) to its diameter</td>
</tr>
<tr>
<td>math.e</td>
<td>Euler’s number (e) is a constant that is the base of the natural logarithm</td>
</tr>
<tr>
<td>math.inf</td>
<td>Infinity(Positive)</td>
</tr>
<tr>
<td>math.nan</td>
<td>Not a number, or NaN</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>Arithmetic Functions</th>
<th>description</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>math.factorial()</td>
<td>get Factorial</td>
<td><code>math.factorial(4) #24(1*2*3*4)</code></td>
</tr>
<tr>
<td>math.ceil()Find the Ceiling Value</td>
<td>Find the Ceiling Value</td>
<td><code>math.ceil(-11.453)#11  math.ceil(4.23)#5</code></td>
</tr>
<tr>
<td>math.floor()</td>
<td>floor() will return the closest integer value that is less than or equal to the given number.</td>
<td><code>math.floor(5.532) #5</code></td>
</tr>
<tr>
<td>math.trunc()</td>
<td>When you get a number with a decimal point, you might want to keep only the integer part and eliminate the decimal part.</td>
<td><code>math.trunc(-43.24)  #-43</code></td>
</tr>
<tr>
<td>math.isclose()</td>
<td>determine whether two numbers are close to each other</td>
<td><code>math.isclose(6.999999999, 7)  #True</code></td>
</tr>
<tr>
<td>math.pow()</td>
<td>Calculate the Power of a Number</td>
<td><code>math.pow(2, 5) # 32.0 pow(5, 2.4) #47.59134846789696  (32 ** 6) % 5 == pow(32, 6, 5) #True</code></td>
</tr>
<tr>
<td>exp()</td>
<td>Find the Natural Exponent</td>
<td><code>math.exp(21) #1318815734.4832146</code></td>
</tr>
<tr>
<td>log()</td>
<td>get natural log value(whose base is e)</td>
<td><code>math.log(4) #1.3862943611198906</code></td>
</tr>
<tr>
<td>log2()</td>
<td>get the log value whose base is 2</td>
<td></td>
</tr>
<tr>
<td>log10()</td>
<td>get the log value whose base is 10</td>
<td></td>
</tr>
<tr>
<td>math.gcd()</td>
<td>compute the greatest common divisor</td>
<td><code>math.gcd(25,15) #5</code></td>
</tr>
<tr>
<td>math.fsum()</td>
<td>o find the sum of the values of an iterable without using a loop. A built-in function called sum() lets you calculate the sum of iterables as well, but fsum() is more accurate than sum().</td>
<td><code>sum([.1, .1, .1, .1, .1, .1, .1, .1, .1, .1])  #0.9999999999999999 fsum([.1, .1, .1, .1, .1, .1, .1, .1, .1, .1]) #1.0</code></td>
</tr>
<tr>
<td>math.sqrt()</td>
<td>Calculate the Square Root</td>
<td><code>sqrt(4) #2</code></td>
</tr>
<tr>
<td>math.radians()</td>
<td>convert degrees to radians</td>
<td></td>
</tr>
<tr>
<td>math.degrees()</td>
<td>convert radians to degrees</td>
</tr>
<tr>
<td>math.sin()</td>
<td>Return the sine of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.tan(x)</td>
<td>Return the tangent of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.cos(x)</td>
<td>Return the cosine of x radians.</td>
<td></td>
</tr>
<tr>
<td>math.hypot()</td>
<td>calculate the hypotenuse of a triangle</td>
<td></td>
</tr>
<tr>
<td>math.comb(n, k)</td>
<td>returns the number of ways to choose k items from n items without repetition and without particular order.</td>
<td></td>
</tr>
<tr>
<td>math.perm(n, k)</td>
<td>returns the number of ways to choose k items from n items without repetition and with order.</td>
<td></td>
</tr>
<tr>
<td>math.isqrt()</td>
<td>returns the integer square root of a non-negative integer.</td>
</tr>
<tr>
<td>math.prod()</td>
<td>calculates the product of all of the elements in the input iterable. As with fsum(), this method can take iterables such as arrays, lists, or tuples.</td>
</tr>
<tr>
<td>math.dist()</td>
<td>returns the Euclidean distance between two points p and q, each given as a sequence (or iterable) of coordinates. The two points must have the same dimension.</td>
</tr>
<tr>
<td>math.hypot()</td>
<td>now handles more than two dimensions. Previously, it supported a maximum of two dimensions.</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><code>math.isclose(a, b, *, rel_tol=1e-09, abs_tol=0.0)</code><br><code>rel_tol</code>: maximum difference for being considered “close”, relative to the magnitude of the input values<br><code>abs_tol</code>: rel_tol is the relative tolerance – it is the maximum allowed difference between a and b, relative to the larger absolute value of a or b. For example, to set a tolerance of 5%, pass rel_tol=0.05. The default tolerance is 1e-09, which assures that the two values are the same within about 9 decimal digits. rel_tol must be greater than zero.<br>The IEEE 754 special values of NaN, inf, and -inf will be handled according to IEEE rules. Specifically, NaN is not considered close to any other value, including NaN. inf and -inf are only considered close to themselves.</li>
</ul>
<ul>
<li>math.floor/math.ceil/int()/math.trunc/round()<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">5.3</span></span><br><span class="line">b = - <span class="number">5.3</span></span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">print(math.floor(a))</span><br><span class="line">print(math.floor(b))</span><br><span class="line">print(math.ceil(a))</span><br><span class="line">print(math.ceil(b))</span><br><span class="line">print(math.trunc(a))</span><br><span class="line">print(math.trunc(b))</span><br><span class="line">print(int(a))</span><br><span class="line">print(int(b))</span><br><span class="line">print(round(a))</span><br><span class="line">print(round(b))</span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -6</span></span><br><span class="line"><span class="comment"># 6</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="comment"># -5</span></span><br></pre></td></tr></table></figure>
<h3 id="reference"><a href="#reference" class="headerlink" title="reference:"></a>reference:</h3><a href="https://realpython.com/python-math-module/">https://realpython.com/python-math-module/</a><br><a href="https://docs.python.org/3/library/math.html">https://docs.python.org/3/library/math.html</a></li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-06T17:52:00.000Z" title="2020-07-06T17:52:00.000Z">2020-07-06</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">14 minutes read (About 2066 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/06/common-modules-in-python-4/">common_modules_in_python(4):itertools</a></h1><div class="content"><p>Functions creating iterators for efficient looping.<br>The module standardizes a core set of fast, memory efficient tools that are useful by themselves or in combination. Together, they form an “iterator algebra” making it possible to construct specialized tools succinctly and efficiently in pure Python.</p>
<h2 id="Infinite-iterators"><a href="#Infinite-iterators" class="headerlink" title="Infinite iterators:"></a>Infinite iterators:</h2><ul>
<li><strong>itertools.count(start=0, step=1)</strong><br>Make an iterator that returns evenly spaced values starting with number start. Often used as an argument to map() to generate consecutive data points. Also, used with zip() to add sequence numbers. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span><span class="params">(start=<span class="number">0</span>, step=<span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="comment"># count(10) --&gt; 10 11 12 13 14 ...</span></span><br><span class="line">    <span class="comment"># count(2.5, 0.5) -&gt; 2.5 3.0 3.5 ...</span></span><br><span class="line">    n = start</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> n</span><br><span class="line">        n += step</span><br></pre></td></tr></table></figure>
Here is an example to use<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">natuals = itertools.count(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> natuals:</span><br><span class="line">  print(n)</span><br><span class="line"></span><br><span class="line"><span class="comment">#1</span></span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"><span class="comment">#3</span></span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.cycle(iterable)</strong><br>Make an iterator returning elements from the iterable and saving a copy of each. When the iterable is exhausted, return elements from the saved copy. Repeats indefinitely. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cycle</span><span class="params">(iterable)</span>:</span></span><br><span class="line">    <span class="comment"># cycle('ABCD') --&gt; A B C D A B C D A B C D ...</span></span><br><span class="line">    saved = []</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> element</span><br><span class="line">        saved.append(element)</span><br><span class="line">    <span class="keyword">while</span> saved:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> saved:</span><br><span class="line">              <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure>
Here is an example<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line">cs = itertools.cycle(<span class="string">'ABC'</span>)</span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cs:</span><br><span class="line">   print(c)</span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">'A'</span></span><br><span class="line"><span class="string">'B'</span></span><br><span class="line"><span class="string">'C'</span></span><br><span class="line"><span class="string">'A'</span></span><br><span class="line"><span class="string">'B'</span></span><br><span class="line"><span class="string">'C'</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="string">'''</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.repeat(object[, times])</strong><br>Make an iterator that returns object over and over again. Runs indefinitely unless the times argument is specified. Used as argument to map() for invariant parameters to the called function. Also used with zip() to create an invariant part of a tuple record.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">repeat</span><span class="params">(object, times=None)</span>:</span></span><br><span class="line">  <span class="comment"># repeat(10, 3) --&gt; 10 10 10</span></span><br><span class="line">  <span class="keyword">if</span> times <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">      <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">          <span class="keyword">yield</span> object</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">      <span class="keyword">for</span> i <span class="keyword">in</span> range(times):</span><br><span class="line">          <span class="keyword">yield</span> object</span><br></pre></td></tr></table></figure>
<p>Here is an example</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ns = itertools.repeat(<span class="string">'A'</span>, <span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> ns:</span><br><span class="line">   print(n)</span><br><span class="line"></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment">#...</span></span><br></pre></td></tr></table></figure>
<h2 id="Iterators-terminating-on-the-shortest-input-sequence"><a href="#Iterators-terminating-on-the-shortest-input-sequence" class="headerlink" title="Iterators terminating on the shortest input sequence:"></a>Iterators terminating on the shortest input sequence:</h2></li>
<li><p><strong>itertools.accumulate(iterable[, func, *, initial=None])</strong><br>Make an iterator that returns accumulated sums, or accumulated results of other binary functions (specified via the optional func argument).</p>
<p>If func is supplied, it should be a function of two arguments. Elements of the input iterable may be any type that can be accepted as arguments to func. (For example, with the default operation of addition, elements may be any addable type including Decimal or Fraction.)</p>
<p>Usually, the number of elements output matches the input iterable. However, if the keyword argument initial is provided, the accumulation leads off with the initial value so that the output has one more element than the input iterable.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">accumulate</span><span class="params">(iterable, func=operator.add, *, initial=None)</span>:</span></span><br><span class="line">    <span class="string">'Return running totals'</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5]) --&gt; 1 3 6 10 15</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5], initial=100) --&gt; 100 101 103 106 110 115</span></span><br><span class="line">    <span class="comment"># accumulate([1,2,3,4,5], operator.mul) --&gt; 1 2 6 24 120</span></span><br><span class="line">    it = iter(iterable)</span><br><span class="line">    total = initial</span><br><span class="line">    <span class="keyword">if</span> initial <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            total = next(it)</span><br><span class="line">        <span class="keyword">except</span> StopIteration:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">yield</span> total</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">        total = func(total, element)</span><br><span class="line">        <span class="keyword">yield</span> total</span><br></pre></td></tr></table></figure>
<p>Below are some examples</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">0</span>, <span class="number">7</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line">list(accumulate(data, operator.mul))     <span class="comment"># running product</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">12</span>, <span class="number">72</span>, <span class="number">144</span>, <span class="number">144</span>, <span class="number">1296</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">list(accumulate(data, max))              <span class="comment"># running maximum</span></span><br><span class="line">[<span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">6</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">9</span>]</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.chain(*iterables)</strong><br>Make an iterator that returns elements from the first iterable until it is exhausted, then proceeds to the next iterable, until all of the iterables are exhausted. Used for treating consecutive sequences as a single sequence. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chain</span><span class="params">(*iterables)</span>:</span></span><br><span class="line">    <span class="comment"># chain('ABC', 'DEF') --&gt; A B C D E F</span></span><br><span class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> iterables:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">            <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure></li>
<li><p><strong>classmethod chain.from_iterable(iterable)</strong><br> Alternate constructor for chain(). Gets chained inputs from a single iterable argument that is evaluated lazily. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">from_iterable</span><span class="params">(iterables)</span>:</span></span><br><span class="line">    <span class="comment"># chain.from_iterable(['ABC', 'DEF']) --&gt; A B C D E F</span></span><br><span class="line">    <span class="keyword">for</span> it <span class="keyword">in</span> iterables:</span><br><span class="line">        <span class="keyword">for</span> element <span class="keyword">in</span> it:</span><br><span class="line">            <span class="keyword">yield</span> element</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>itertools.compress(data, selectors)</strong><br>Make an iterator that filters elements from data returning only those that have a corresponding element in selectors that evaluates to True. Stops when either the data or selectors iterables has been exhausted. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">compress</span><span class="params">(data, selectors)</span>:</span></span><br><span class="line">    <span class="comment"># compress('ABCDEF', [1,0,1,0,1,1]) --&gt; A C E F</span></span><br><span class="line">    <span class="keyword">return</span> (d <span class="keyword">for</span> d, s <span class="keyword">in</span> zip(data, selectors) <span class="keyword">if</span> s)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.dropwhile(predicate, iterable)</strong><br>Make an iterator that filters elements from iterable returning only those for which the predicate is False. If predicate is None, return the items that are false. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">filterfalse</span><span class="params">(predicate, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># filterfalse(lambda x: x%2, range(10)) --&gt; 0 2 4 6 8</span></span><br><span class="line">    <span class="keyword">if</span> predicate <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        predicate = bool</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> predicate(x):</span><br><span class="line">            <span class="keyword">yield</span> x</span><br></pre></td></tr></table></figure>
groupby() picks out the adjacent repeating elements in the iterator and puts them together:</li>
<li><strong>itertools.groupby(iterable, key=None)</strong><br>groupby() picks out the adjacent repeating elements in the iterator and puts them together.<br>groupby() is roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">groupby</span>:</span></span><br><span class="line">    <span class="comment"># [k for k, g in groupby('AAAABBBCCDAABBB')] --&gt; A B C D A B</span></span><br><span class="line">    <span class="comment"># [list(g) for k, g in groupby('AAAABBBCCD')] --&gt; AAAA BBB CC D</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, iterable, key=None)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            key = <span class="keyword">lambda</span> x: x</span><br><span class="line">        self.keyfunc = key</span><br><span class="line">        self.it = iter(iterable)</span><br><span class="line">        self.tgtkey = self.currkey = self.currvalue = object()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.id = object()</span><br><span class="line">        <span class="keyword">while</span> self.currkey == self.tgtkey:</span><br><span class="line">            self.currvalue = next(self.it)    <span class="comment"># Exit on StopIteration</span></span><br><span class="line">            self.currkey = self.keyfunc(self.currvalue)</span><br><span class="line">        self.tgtkey = self.currkey</span><br><span class="line">        <span class="keyword">return</span> (self.currkey, self._grouper(self.tgtkey, self.id))</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_grouper</span><span class="params">(self, tgtkey, id)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> self.id <span class="keyword">is</span> id <span class="keyword">and</span> self.currkey == tgtkey:</span><br><span class="line">            <span class="keyword">yield</span> self.currvalue</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                self.currvalue = next(self.it)</span><br><span class="line">            <span class="keyword">except</span> StopIteration:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            self.currkey = self.keyfunc(self.currvalue)</span><br></pre></td></tr></table></figure>
Here is an example :<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">groups = []</span><br><span class="line">uniquekeys = []</span><br><span class="line">data = sorted(data, key=keyfunc)</span><br><span class="line"><span class="keyword">for</span> k, g <span class="keyword">in</span> groupby(data, keyfunc):</span><br><span class="line">    groups.append(list(g))      <span class="comment"># Store group iterator as a list</span></span><br><span class="line">    uniquekeys.append(k)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.islice(iterable, stop)</strong><br>another parameters settings is <strong>itertools.islice(iterable, start, stop[, step])</strong><br>Make an iterator that returns selected elements from the iterable. If start is non-zero, then elements from the iterable are skipped until start is reached. Afterward, elements are returned consecutively unless step is set higher than one which results in items being skipped. If stop is None, then iteration continues until the iterator is exhausted, if at all; otherwise, it stops at the specified position. Unlike regular slicing, islice() does not support negative values for start, stop, or step. Can be used to extract related fields from data where the internal structure has been flattened (for example, a multi-line report may list a name field on every third line). Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">islice</span><span class="params">(iterable, *args)</span>:</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2) --&gt; A B</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2, 4) --&gt; C D</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 2, None) --&gt; C D E F G</span></span><br><span class="line">    <span class="comment"># islice('ABCDEFG', 0, None, 2) --&gt; A C E G</span></span><br><span class="line">    s = slice(*args)</span><br><span class="line">    start, stop, step = s.start <span class="keyword">or</span> <span class="number">0</span>, s.stop <span class="keyword">or</span> sys.maxsize, s.step <span class="keyword">or</span> <span class="number">1</span></span><br><span class="line">    it = iter(range(start, stop, step))</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        nexti = next(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># Consume *iterable* up to the *start* position.</span></span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> zip(range(start), iterable):</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> enumerate(iterable):</span><br><span class="line">            <span class="keyword">if</span> i == nexti:</span><br><span class="line">                <span class="keyword">yield</span> element</span><br><span class="line">                nexti = next(it)</span><br><span class="line">    <span class="keyword">except</span> StopIteration:</span><br><span class="line">        <span class="comment"># Consume to *stop*.</span></span><br><span class="line">        <span class="keyword">for</span> i, element <span class="keyword">in</span> zip(range(i + <span class="number">1</span>, stop), iterable):</span><br><span class="line">            <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
If start is None, then iteration starts at zero. If step is None, then the step defaults to one.</li>
<li><strong>itertools.starmap(function, iterable)</strong><br>Make an iterator that computes the function using arguments obtained from the iterable. Used instead of map() when argument parameters are already grouped in tuples from a single iterable (the data has been “pre-zipped”). The difference between map() and starmap() parallels the distinction between <code>function(a,b)</code> and <code>function(*c)</code>. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">starmap</span><span class="params">(function, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># starmap(pow, [(2,5), (3,2), (10,3)]) --&gt; 32 9 1000</span></span><br><span class="line">    <span class="keyword">for</span> args <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">yield</span> function(*args)</span><br></pre></td></tr></table></figure></li>
<li><strong>itertools.takewhile(predicate, iterable)</strong><br>Make an iterator that returns elements from the iterable as long as the predicate is true. Roughly equivalent to:<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">takewhile</span><span class="params">(predicate, iterable)</span>:</span></span><br><span class="line">    <span class="comment"># takewhile(lambda x: x&lt;5, [1,4,6,4,1]) --&gt; 1 4</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> iterable:</span><br><span class="line">        <span class="keyword">if</span> predicate(x):</span><br><span class="line">            <span class="keyword">yield</span> x</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.tee(iterable, n=2)</strong><br>Return n independent iterators from a single iterable.</p>
<p>The following Python code helps explain what tee does (although the actual implementation is more complex and uses only a single underlying FIFO queue).</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tee</span><span class="params">(iterable, n=<span class="number">2</span>)</span>:</span></span><br><span class="line">    it = iter(iterable)</span><br><span class="line">    deques = [collections.deque() <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gen</span><span class="params">(mydeque)</span>:</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> mydeque:             <span class="comment"># when the local deque is empty</span></span><br><span class="line">                <span class="keyword">try</span>:</span><br><span class="line">                    newval = next(it)   <span class="comment"># fetch a new value and</span></span><br><span class="line">                <span class="keyword">except</span> StopIteration:</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                <span class="keyword">for</span> d <span class="keyword">in</span> deques:        <span class="comment"># load it to all the deques</span></span><br><span class="line">                    d.append(newval)</span><br><span class="line">            <span class="keyword">yield</span> mydeque.popleft()</span><br><span class="line">    <span class="keyword">return</span> tuple(gen(d) <span class="keyword">for</span> d <span class="keyword">in</span> deques)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.zip_longest(*iterables, fillvalue=None)</strong><br>Make an iterator that aggregates elements from each of the iterables. If the iterables are of uneven length, missing values are filled-in with fillvalue. Iteration continues until the longest iterable is exhausted. Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">zip_longest</span><span class="params">(*args, fillvalue=None)</span>:</span></span><br><span class="line">    <span class="comment"># zip_longest('ABCD', 'xy', fillvalue='-') --&gt; Ax By C- D-</span></span><br><span class="line">    iterators = [iter(it) <span class="keyword">for</span> it <span class="keyword">in</span> args]</span><br><span class="line">    num_active = len(iterators)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> num_active:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        values = []</span><br><span class="line">        <span class="keyword">for</span> i, it <span class="keyword">in</span> enumerate(iterators):</span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                value = next(it)</span><br><span class="line">            <span class="keyword">except</span> StopIteration:</span><br><span class="line">                num_active -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> num_active:</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                iterators[i] = repeat(fillvalue)</span><br><span class="line">                value = fillvalue</span><br><span class="line">            values.append(value)</span><br><span class="line">        <span class="keyword">yield</span> tuple(values)</span><br></pre></td></tr></table></figure>
<h2 id="itertools-product-iterables-repeat-1"><a href="#itertools-product-iterables-repeat-1" class="headerlink" title="itertools.product(*iterables, repeat=1)"></a><strong>itertools.product(*iterables, repeat=1)</strong></h2><p>Cartesian product of input iterables.</p>
<p>Roughly equivalent to nested for-loops in a generator expression. For example, product(A, B) returns the same as ((x,y) for x in A for y in B).</p>
<p>The nested loops cycle like an odometer with the rightmost element advancing on every iteration. This pattern creates a lexicographic ordering so that if the input’s iterables are sorted, the product tuples are emitted in sorted order.</p>
<p>To compute the product of an iterable with itself, specify the number of repetitions with the optional repeat keyword argument. For example, product(A, repeat=4) means the same as product(A, A, A, A).</p>
<p>This function is roughly equivalent to the following code, except that the actual implementation does not build up intermediate results in memory:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">product</span><span class="params">(*args, repeat=<span class="number">1</span>)</span>:</span></span><br><span class="line">    <span class="comment"># product('ABCD', 'xy') --&gt; Ax Ay Bx By Cx Cy Dx Dy</span></span><br><span class="line">    <span class="comment"># product(range(2), repeat=3) --&gt; 000 001 010 011 100 101 110 111</span></span><br><span class="line">    pools = [tuple(pool) <span class="keyword">for</span> pool <span class="keyword">in</span> args] * repeat</span><br><span class="line">    result = [[]]</span><br><span class="line">    <span class="keyword">for</span> pool <span class="keyword">in</span> pools:</span><br><span class="line">        result = [x+[y] <span class="keyword">for</span> x <span class="keyword">in</span> result <span class="keyword">for</span> y <span class="keyword">in</span> pool]</span><br><span class="line">    <span class="keyword">for</span> prod <span class="keyword">in</span> result:</span><br><span class="line">        <span class="keyword">yield</span> tuple(prod)</span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.permutations(iterable, r=None)</strong><br>Return successive r length permutations of elements in the iterable.</p>
<p>If r is not specified or is None, then r defaults to the length of the iterable and all possible full-length permutations are generated.</p>
<p>The permutation tuples are emitted in lexicographic ordering according to the order of the input iterable. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.</p>
<p>Elements are treated as unique based on their position, not on their value. So if the input elements are unique, there will be no repeat values in each permutation.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">permutations</span><span class="params">(iterable, r=None)</span>:</span></span><br><span class="line">    <span class="comment"># permutations('ABCD', 2) --&gt; AB AC AD BA BC BD CA CB CD DA DB DC</span></span><br><span class="line">    <span class="comment"># permutations(range(3)) --&gt; 012 021 102 120 201 210</span></span><br><span class="line">    pool = tuple(iterable)</span><br><span class="line">    n = len(pool)</span><br><span class="line">    r = n <span class="keyword">if</span> r <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">else</span> r</span><br><span class="line">    <span class="keyword">if</span> r &gt; n:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    indices = list(range(n))</span><br><span class="line">    cycles = list(range(n, n-r, <span class="number">-1</span>))</span><br><span class="line">    <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices[:r])</span><br><span class="line">    <span class="keyword">while</span> n:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(r)):</span><br><span class="line">            cycles[i] -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cycles[i] == <span class="number">0</span>:</span><br><span class="line">                indices[i:] = indices[i+<span class="number">1</span>:] + indices[i:i+<span class="number">1</span>]</span><br><span class="line">                cycles[i] = n - i</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                j = cycles[i]</span><br><span class="line">                indices[i], indices[-j] = indices[-j], indices[i]</span><br><span class="line">                <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices[:r])</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>itertools.combinations(iterable, r)</strong><br>Return r length subsequences of elements from the input iterable.</p>
<p>The combination tuples are emitted in lexicographic ordering according to the order of the input iterable. So, if the input iterable is sorted, the combination tuples will be produced in sorted order.</p>
<p>Elements are treated as unique based on their position, not on their value. So if the input elements are unique, there will be no repeat values in each combination.</p>
<p>Roughly equivalent to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">combinations</span><span class="params">(iterable, r)</span>:</span></span><br><span class="line">    <span class="comment"># combinations('ABCD', 2) --&gt; AB AC AD BC BD CD</span></span><br><span class="line">    <span class="comment"># combinations(range(4), 3) --&gt; 012 013 023 123</span></span><br><span class="line">    pool = tuple(iterable)</span><br><span class="line">    n = len(pool)</span><br><span class="line">    <span class="keyword">if</span> r &gt; n:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    indices = list(range(r))</span><br><span class="line">    <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(r)):</span><br><span class="line">            <span class="keyword">if</span> indices[i] != i + n - r:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        indices[i] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, r):</span><br><span class="line">            indices[j] = indices[j<span class="number">-1</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">yield</span> tuple(pool[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices)</span><br></pre></td></tr></table></figure>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><p><a href="https://docs.python.org/3/library/itertools.html#itertools.combinations_with_replacement">https://docs.python.org/3/library/itertools.html#itertools.combinations_with_replacement</a></p>
</li>
</ul>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-07-06T16:04:00.000Z" title="2020-07-06T16:04:00.000Z">2020-07-06</time><span class="level-item"> lawiet019 </span><span class="level-item"><a class="link-muted" href="/categories/technology/">technology</a></span><span class="level-item">2 minutes read (About 342 words)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2020/07/06/common-modules-in-python-3/">common_modules_in_python(3):heapq</a></h1><div class="content"><h2 id="description"><a href="#description" class="headerlink" title="description"></a>description</h2><p>This module provides an implementation of the heap queue algorithm, also known as the priority queue algorithm. To understood the heap sort, we could see the passage <a href="./2020/05/23/sorting-alogrithms-in-python/">sorting alogrithms in python</a></p>
<ul>
<li>siftup</li>
</ul>
<p><img src="/images/pasted-8.png" alt=""></p>
<ul>
<li>siftdown</li>
</ul>
<p><img src="/images/pasted-9.png" alt=""></p>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><div class="table-container">
<table>
<thead>
<tr>
<th>function</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>heappush (heap, x)</td>
<td>pushes x into the heap</td>
</tr>
<tr>
<td>heappop(heap)</td>
<td>pops the smallest element out of the heap</td>
</tr>
<tr>
<td>heapify(heap)</td>
<td>makes the list like a heap</td>
</tr>
<tr>
<td>heapreplace(heap, x)</td>
<td>pops up the smallest element and pushes x into the heap</td>
</tr>
<tr>
<td>heappushpop(heap, x)</td>
<td>Push x on the heap, then pop and return the smallest item from the heap. The combined action runs more efficiently than heappush() followed by a separate call to heappop().</td>
</tr>
<tr>
<td>nlargest(n, iter)</td>
<td>returns the largest n elements in iter</td>
</tr>
<tr>
<td>nsmallest(n, iter)</td>
<td>returns the smallest n elements in iter</td>
</tr>
<tr>
<td>_heappop_max(heap)</td>
<td>Maxheap version of a heappop</td>
</tr>
<tr>
<td>_heapreplace_max(heap,item)</td>
<td>Maxheap version of a heappop followed by a heappush.</td>
</tr>
<tr>
<td>_heapify_max(x)</td>
<td>Transform list into a maxheap, in-place, in O(len(x)) time</td>
</tr>
<tr>
<td>_siftdown(heap,startpos,pos)</td>
<td>Follow the path to the root, moving parents down until finding a place</td>
</tr>
<tr>
<td>_siftup(heap,pos)</td>
<td>Bubble up the smaller child until hitting a leaf</td>
</tr>
<tr>
<td>_siftdown_max(heap,startpos,pos)</td>
<td>Maxheap variant of _siftdown</td>
</tr>
<tr>
<td>_siftup_max(heap,pos)</td>
<td>Maxheap variant of _siftup</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>difference between <code>heappushpop</code> and <code>heapreplace</code><br>heapreplace(a, x) returns the smallest value originally in a regardless of the value of x, while, as the name suggests, heappushpop(a, x) pushes x onto a before popping the smallest value. Using your data, here’s a sequence that shows the difference:</li>
</ul>
<h1 id="an-exmaple"><a href="#an-exmaple" class="headerlink" title="an exmaple"></a>an exmaple</h1><p>Leetcode 23. Merge k Sorted Lists</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  <span class="comment"># Definition for singly-linked list.</span></span><br><span class="line">  <span class="comment"># class ListNode:</span></span><br><span class="line">  <span class="comment">#     def __init__(self, val=0, next=None):</span></span><br><span class="line">  <span class="comment">#         self.val = val</span></span><br><span class="line">  <span class="comment">#         self.next = next</span></span><br><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeKLists</span><span class="params">(self, lists: List[ListNode])</span> -&gt; ListNode:</span></span><br><span class="line">        nodeLists = []</span><br><span class="line">        <span class="keyword">for</span> node <span class="keyword">in</span> lists:</span><br><span class="line">            <span class="keyword">while</span> node:</span><br><span class="line">                heapq.heappush(nodeLists, node.val)</span><br><span class="line">                node = node.next</span><br><span class="line">        res = curr = ListNode(<span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">while</span> nodeLists:</span><br><span class="line">            curr.next = ListNode(heapq.heappop(nodeLists))</span><br><span class="line">            curr = curr.next</span><br><span class="line">        <span class="keyword">return</span> res.next</span><br></pre></td></tr></table></figure></div></article></div><nav class="pagination is-centered mt-4" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/technology/page/2/">Previous</a></div><div class="pagination-next"><a href="/categories/technology/page/4/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/technology/">1</a></li><li><a class="pagination-link" href="/categories/technology/page/2/">2</a></li><li><a class="pagination-link is-current" href="/categories/technology/page/3/">3</a></li><li><a class="pagination-link" href="/categories/technology/page/4/">4</a></li><li><a class="pagination-link" href="/categories/technology/page/5/">5</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="is-rounded" src="/img/avatar.jpeg" alt="koko"></figure><p class="title is-size-4 is-block line-height-inherit">koko</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Troy, NY</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">48</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">3</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">34</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/lawiet019" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/lawiet019"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/technology/"><span class="level-start"><span class="level-item">technology</span></span><span class="level-end"><span class="level-item tag">41</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/technology/math/"><span class="level-start"><span class="level-item">math</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">Recent</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2022-04-10T02:39:00.000Z">2022-04-09</time></p><p class="title is-6"><a class="link-muted" href="/2022/04/09/Authentication-vs-Authorization-md/">Authentication_vs_Authorization.md</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2022-03-12T16:16:00.000Z">2022-03-12</time></p><p class="title is-6"><a class="link-muted" href="/2022/03/12/problems-faced-when-using-unittest-mock/">problems faced when using unittest.mock</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2022-02-28T21:56:00.000Z">2022-02-28</time></p><p class="title is-6"><a class="link-muted" href="/2022/02/28/nil-in-golang/">nil in golang</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2022-02-28T21:54:00.000Z">2022-02-28</time></p><p class="title is-6"><a class="link-muted" href="/2022/02/28/Perforce-note-2/">Perforce note (2)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2022-02-26T14:42:00.000Z">2022-02-26</time></p><p class="title is-6"><a class="link-muted" href="/2022/02/26/Perforce-notes-1/">Perforce notes (1)</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/technology/">technology</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Graph/"><span class="tag">Graph</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/algorithm/"><span class="tag">algorithm</span><span class="tag is-grey-lightest">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/binary-search/"><span class="tag">binary search</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bit-manipulation/"><span class="tag">bit manipulation</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blueprint/"><span class="tag">blueprint</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/collections/"><span class="tag">collections</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/computing/"><span class="tag">computing</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/cookit/"><span class="tag">cookit</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/debug/"><span class="tag">debug</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dependency-injection/"><span class="tag">dependency injection</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/dynamic-programming/"><span class="tag">dynamic programming</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flask/"><span class="tag">flask</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/go/"><span class="tag">go</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/golang/"><span class="tag">golang</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/graph/"><span class="tag">graph</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/hexo/"><span class="tag">hexo</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/learning-note/"><span class="tag">learning note</span><span class="tag is-grey-lightest">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linked-list/"><span class="tag">linked list</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mock/"><span class="tag">mock</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/multiprocess/"><span class="tag">multiprocess</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/multithread/"><span class="tag">multithread</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/network/"><span class="tag">network</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/nginx/"><span class="tag">nginx</span><span class="tag is-grey-lightest">9</span></a></div><div class="control"><a class="tags has-addons" href="/tags/perforce/"><span class="tag">perforce</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/python/"><span class="tag">python</span><span class="tag is-grey-lightest">24</span></a></div><div class="control"><a class="tags has-addons" href="/tags/regular-expression/"><span class="tag">regular expression</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/session/"><span class="tag">session</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sort/"><span class="tag">sort</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/sorting/"><span class="tag">sorting</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/token/"><span class="tag">token</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tool/"><span class="tag">tool</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/tree/"><span class="tag">tree</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/unittest/"><span class="tag">unittest</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe to Updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button is-primary" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/favicon.png" alt="lawilet&#039;s website" height="28"></a><p class="size-small"><span>&copy; 2022 lawiet019</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://law-liet.com',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to Top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>